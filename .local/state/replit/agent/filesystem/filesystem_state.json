{"file_contents":{"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/TaskManager.tsx":{"content":"import { useState, useEffect, useRef } from 'react';\nimport { useLocalData, useLocalSettings } from '../hooks/useLocalData';\nimport { Switch } from '@/components/ui/switch';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  Todo, \n  Schedule, \n  WeightRecord, \n  MealRecord, \n  DiaryEntry,\n  DailyRoutine,\n  MonthlyGoal,\n  WeeklyGoal,\n  Link,\n  PomodoroState,\n  AppState \n} from '../types/local';\nimport {\n  todoStore,\n  scheduleStore,\n  weightRecordStore,\n  mealRecordStore,\n  diaryEntryStore,\n  dailyRoutineStore,\n  monthlyGoalStore,\n  weeklyGoalStore,\n  linkStore,\n  userSettingsStore,\n} from '../lib/localDataStore';\nimport type { \n  InsertTodo,\n  InsertSchedule,\n  InsertWeightRecord,\n  InsertMealRecord,\n  InsertDiaryEntry,\n  InsertDailyRoutine,\n  InsertMonthlyGoal,\n  InsertWeeklyGoal,\n  InsertLink,\n  UserSettings\n} from '../types/local';\nimport { \n  Bell, \n  Clock, \n  Home, \n  Timer, \n  Calendar, \n  Plus, \n  ChevronDown, \n  ArrowLeft, \n  Play, \n  Pause, \n  RotateCcw, \n  X,\n  Camera,\n  Smile,\n  LogOut,\n  User,\n  Download,\n  Star,\n  Repeat,\n  Settings,\n  ListChecks,\n  Link as LinkIcon\n} from 'lucide-react';\n\nconst TaskManager: React.FC = () => {\n  const [currentScreen, setCurrentScreen] = useState('home-screen');\n  const [todoVisible, setTodoVisible] = useState(() => {\n    const saved = localStorage.getItem('todoVisible');\n    return saved ? JSON.parse(saved) : false;\n  });\n  \n  // Export functionality state\n  const [exportModalVisible, setExportModalVisible] = useState(false);\n  const [exportLoading, setExportLoading] = useState(false);\n  \n  // Notification functionality state\n  const [notificationModalVisible, setNotificationModalVisible] = useState(false);\n  const [notificationsEnabled, setNotificationsEnabled] = useState(() => {\n    const saved = localStorage.getItem('notificationsEnabled');\n    return saved ? JSON.parse(saved) : false;\n  });\n  const [notificationPermission, setNotificationPermission] = useState<NotificationPermission>('default');\n  \n  // Calendar functionality state\n  const [calendarModalVisible, setCalendarModalVisible] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  \n  // TODO input functionality state\n  const [todoInputModalVisible, setTodoInputModalVisible] = useState(false);\n  const [todoInputText, setTodoInputText] = useState('');\n  const [repeatType, setRepeatType] = useState<'none' | 'daily' | 'weekly' | 'monthly'>('none');\n  const [repeatDays, setRepeatDays] = useState<number[]>([]);\n  const [repeatDate, setRepeatDate] = useState<number | null>(null);\n  const [locationEnabled, setLocationEnabled] = useState(false);\n  const [locationName, setLocationName] = useState('');\n  const [locationLat, setLocationLat] = useState<number | null>(null);\n  const [locationLng, setLocationLng] = useState<number | null>(null);\n  const [locationRadius, setLocationRadius] = useState(100);\n  \n  // Schedule input functionality state\n  const [scheduleInputModalVisible, setScheduleInputModalVisible] = useState(false);\n  const [scheduleInputText, setScheduleInputText] = useState('');\n  const [scheduleInputTime, setScheduleInputTime] = useState('');\n  const [scheduleInputDate, setScheduleInputDate] = useState<Date | null>(null);\n  const [pastSchedulesModalVisible, setPastSchedulesModalVisible] = useState(false);\n  \n  // Weekly review functionality state\n  const [weekOffset, setWeekOffset] = useState(0); // 0 = this week, -1 = last week, 1 = next week\n\n  // Local storage hooks for data\n  const { data: todos = [], isLoading: todosLoading, refetch: refetchTodos } = useLocalData<Todo>(todoStore, 'todos');\n  const { data: schedules = [], isLoading: schedulesLoading, refetch: refetchSchedules } = useLocalData<Schedule>(scheduleStore, 'schedules');\n  const { data: weightRecords = [], isLoading: weightRecordsLoading, refetch: refetchWeightRecords } = useLocalData<WeightRecord>(weightRecordStore, 'weightRecords');\n  const { data: mealRecords = [], isLoading: mealRecordsLoading, refetch: refetchMealRecords } = useLocalData<MealRecord>(mealRecordStore, 'mealRecords');\n  const { data: diaryEntries = [], isLoading: diaryEntriesLoading, refetch: refetchDiaryEntries } = useLocalData<DiaryEntry>(diaryEntryStore, 'diaryEntries');\n  const { data: dailyRoutines = [], isLoading: dailyRoutinesLoading, refetch: refetchDailyRoutines } = useLocalData<DailyRoutine>(dailyRoutineStore, 'dailyRoutines');\n  const { data: monthlyGoals = [], isLoading: monthlyGoalsLoading, refetch: refetchMonthlyGoals } = useLocalData<MonthlyGoal>(monthlyGoalStore, 'monthlyGoals');\n  const { data: weeklyGoals = [], isLoading: weeklyGoalsLoading, refetch: refetchWeeklyGoals } = useLocalData<WeeklyGoal>(weeklyGoalStore, 'weeklyGoals');\n  const { data: userSettings, isLoading: settingsLoading, refetch: refetchSettings } = useLocalSettings(userSettingsStore);\n  const { data: links = [], isLoading: linksLoading, refetch: refetchLinks } = useLocalData<Link>(linkStore, 'links');\n  \n  const [pomodoro, setPomodoro] = useState<PomodoroState>({\n    minutes: 25,\n    seconds: 0,\n    isRunning: false,\n    mode: 'pomodoro'\n  });\n  \n  // Timer and Stopwatch states\n  const [timerScreenMode, setTimerScreenMode] = useState<'pomodoro' | 'timer' | 'stopwatch'>('pomodoro');\n  const [timerMinutes, setTimerMinutes] = useState(0);\n  const [timerSeconds, setTimerSeconds] = useState(0);\n  const [timerRunning, setTimerRunning] = useState(false);\n  \n  // Daily Routine states\n  const [routineContent, setRoutineContent] = useState('');\n  const [isRoutineEditing, setIsRoutineEditing] = useState(false);\n  \n  // Monthly Goal states\n  const [weightGoals, setWeightGoals] = useState<string[]>([]);\n  const [todoGoals, setTodoGoals] = useState<string[]>([]);\n  const [achievementGoals, setAchievementGoals] = useState<string[]>([]);\n  const [activityGoals, setActivityGoals] = useState<string[]>([]);\n  const [isMonthlyGoalEditing, setIsMonthlyGoalEditing] = useState(false);\n  const [weeklyWeightGoals, setWeeklyWeightGoals] = useState<string[]>([]);\n  const [weeklyTodoGoals, setWeeklyTodoGoals] = useState<string[]>([]);\n  const [weeklyAchievementGoals, setWeeklyAchievementGoals] = useState<string[]>([]);\n  const [weeklyActivityGoals, setWeeklyActivityGoals] = useState<string[]>([]);\n  const [isWeeklyGoalEditing, setIsWeeklyGoalEditing] = useState(false);\n  const [showGoalSetupScreen, setShowGoalSetupScreen] = useState(false);\n  const [stopwatchMinutes, setStopwatchMinutes] = useState(0);\n  const [stopwatchSeconds, setStopwatchSeconds] = useState(0);\n  const [stopwatchRunning, setStopwatchRunning] = useState(false);\n\n  // Calendar states\n  const [calendarMonth, setCalendarMonth] = useState(new Date());\n  const [calendarSelectedDay, setCalendarSelectedDay] = useState<Date | null>(null);\n  \n  // Link states\n  const [linkInputVisible, setLinkInputVisible] = useState(false);\n  const [linkTitle, setLinkTitle] = useState('');\n  const [linkUrl, setLinkUrl] = useState('');\n  const [linkCategory, setLinkCategory] = useState('other');\n  \n  // Stop all other modes when switching\n  const switchTimerMode = (mode: 'pomodoro' | 'timer' | 'stopwatch') => {\n    setPomodoro(prev => ({ ...prev, isRunning: false }));\n    setTimerRunning(false);\n    setStopwatchRunning(false);\n    setTimerScreenMode(mode);\n  };\n\n  // Local storage CRUD operations\n  const createTodoMutation = {\n    mutate: (todoData: InsertTodo) => {\n      todoStore.create({\n        ...todoData,\n        createdAt: new Date(),\n        completed: todoData.completed ?? false,\n      });\n      refetchTodos();\n    }\n  };\n\n  const updateTodoMutation = {\n    mutate: ({ id, ...data }: { id: string; completed?: boolean }) => {\n      todoStore.update(id, data);\n      refetchTodos();\n    }\n  };\n\n  const deleteTodoMutation = {\n    mutate: (id: string) => {\n      todoStore.delete(id);\n      refetchTodos();\n    }\n  };\n\n  const createScheduleMutation = {\n    mutate: (scheduleData: InsertSchedule) => {\n      scheduleStore.create({\n        ...scheduleData,\n        completed: scheduleData.completed ?? false,\n      });\n      refetchSchedules();\n    }\n  };\n\n  const deleteScheduleMutation = {\n    mutate: (id: string) => {\n      scheduleStore.delete(id);\n      refetchSchedules();\n    }\n  };\n\n  const createWeightRecordMutation = {\n    mutate: (weightData: InsertWeightRecord) => {\n      weightRecordStore.create(weightData);\n      refetchWeightRecords();\n    }\n  };\n\n  const createDiaryEntryMutation = {\n    mutate: (diaryData: InsertDiaryEntry) => {\n      diaryEntryStore.create(diaryData);\n      refetchDiaryEntries();\n    }\n  };\n\n  const deleteDiaryEntryMutation = {\n    mutate: (id: string) => {\n      diaryEntryStore.delete(id);\n      refetchDiaryEntries();\n    }\n  };\n\n  const createDailyRoutineMutation = {\n    mutate: (routineData: InsertDailyRoutine) => {\n      dailyRoutineStore.create(routineData);\n      refetchDailyRoutines();\n    },\n    mutateAsync: async (routineData: InsertDailyRoutine) => {\n      dailyRoutineStore.create(routineData);\n      refetchDailyRoutines();\n      return Promise.resolve();\n    }\n  };\n\n  const updateDailyRoutineMutation = {\n    mutate: ({ id, content }: { id: string; content: string }) => {\n      dailyRoutineStore.update(id, { content });\n      refetchDailyRoutines();\n    },\n    mutateAsync: async ({ id, content }: { id: string; content: string }) => {\n      dailyRoutineStore.update(id, { content });\n      refetchDailyRoutines();\n      return Promise.resolve();\n    }\n  };\n\n  const createMonthlyGoalMutation = {\n    mutate: (goalData: InsertMonthlyGoal) => {\n      monthlyGoalStore.create({\n        ...goalData,\n        createdAt: new Date(),\n      });\n      refetchMonthlyGoals();\n    },\n    mutateAsync: async (goalData: InsertMonthlyGoal) => {\n      monthlyGoalStore.create({\n        ...goalData,\n        createdAt: new Date(),\n      });\n      refetchMonthlyGoals();\n      return Promise.resolve();\n    }\n  };\n\n  const updateMonthlyGoalMutation = {\n    mutate: ({ id, weightGoals, todoGoals, achievementGoals, activityGoals, weightGoalsCompleted, todoGoalsCompleted, achievementGoalsCompleted, activityGoalsCompleted }: { \n      id: string; \n      weightGoals?: string[]; \n      todoGoals?: string[]; \n      achievementGoals?: string[]; \n      activityGoals?: string[];\n      weightGoalsCompleted?: boolean[];\n      todoGoalsCompleted?: boolean[];\n      achievementGoalsCompleted?: boolean[];\n      activityGoalsCompleted?: boolean[];\n    }) => {\n      const updateData: any = {};\n      if (weightGoals !== undefined) updateData.weightGoals = weightGoals;\n      if (todoGoals !== undefined) updateData.todoGoals = todoGoals;\n      if (achievementGoals !== undefined) updateData.achievementGoals = achievementGoals;\n      if (activityGoals !== undefined) updateData.activityGoals = activityGoals;\n      if (weightGoalsCompleted !== undefined) updateData.weightGoalsCompleted = weightGoalsCompleted;\n      if (todoGoalsCompleted !== undefined) updateData.todoGoalsCompleted = todoGoalsCompleted;\n      if (achievementGoalsCompleted !== undefined) updateData.achievementGoalsCompleted = achievementGoalsCompleted;\n      if (activityGoalsCompleted !== undefined) updateData.activityGoalsCompleted = activityGoalsCompleted;\n      monthlyGoalStore.update(id, updateData);\n      refetchMonthlyGoals();\n    },\n    mutateAsync: async ({ id, weightGoals, todoGoals, achievementGoals, activityGoals, weightGoalsCompleted, todoGoalsCompleted, achievementGoalsCompleted, activityGoalsCompleted }: { \n      id: string; \n      weightGoals?: string[]; \n      todoGoals?: string[]; \n      achievementGoals?: string[]; \n      activityGoals?: string[];\n      weightGoalsCompleted?: boolean[];\n      todoGoalsCompleted?: boolean[];\n      achievementGoalsCompleted?: boolean[];\n      activityGoalsCompleted?: boolean[];\n    }) => {\n      const updateData: any = {};\n      if (weightGoals !== undefined) updateData.weightGoals = weightGoals;\n      if (todoGoals !== undefined) updateData.todoGoals = todoGoals;\n      if (achievementGoals !== undefined) updateData.achievementGoals = achievementGoals;\n      if (activityGoals !== undefined) updateData.activityGoals = activityGoals;\n      if (weightGoalsCompleted !== undefined) updateData.weightGoalsCompleted = weightGoalsCompleted;\n      if (todoGoalsCompleted !== undefined) updateData.todoGoalsCompleted = todoGoalsCompleted;\n      if (achievementGoalsCompleted !== undefined) updateData.achievementGoalsCompleted = achievementGoalsCompleted;\n      if (activityGoalsCompleted !== undefined) updateData.activityGoalsCompleted = activityGoalsCompleted;\n      monthlyGoalStore.update(id, updateData);\n      refetchMonthlyGoals();\n      return Promise.resolve();\n    }\n  };\n\n  const createWeeklyGoalMutation = {\n    mutate: (goalData: InsertWeeklyGoal) => {\n      weeklyGoalStore.create({\n        ...goalData,\n        createdAt: new Date(),\n      });\n      refetchWeeklyGoals();\n    },\n    mutateAsync: async (goalData: InsertWeeklyGoal) => {\n      weeklyGoalStore.create({\n        ...goalData,\n        createdAt: new Date(),\n      });\n      refetchWeeklyGoals();\n      return Promise.resolve();\n    }\n  };\n\n  const updateWeeklyGoalMutation = {\n    mutate: ({ id, weightGoals, todoGoals, achievementGoals, activityGoals, weightGoalsCompleted, todoGoalsCompleted, achievementGoalsCompleted, activityGoalsCompleted }: { \n      id: string; \n      weightGoals?: string[]; \n      todoGoals?: string[]; \n      achievementGoals?: string[]; \n      activityGoals?: string[];\n      weightGoalsCompleted?: boolean[];\n      todoGoalsCompleted?: boolean[];\n      achievementGoalsCompleted?: boolean[];\n      activityGoalsCompleted?: boolean[];\n    }) => {\n      const updateData: any = {};\n      if (weightGoals !== undefined) updateData.weightGoals = weightGoals;\n      if (todoGoals !== undefined) updateData.todoGoals = todoGoals;\n      if (achievementGoals !== undefined) updateData.achievementGoals = achievementGoals;\n      if (activityGoals !== undefined) updateData.activityGoals = activityGoals;\n      if (weightGoalsCompleted !== undefined) updateData.weightGoalsCompleted = weightGoalsCompleted;\n      if (todoGoalsCompleted !== undefined) updateData.todoGoalsCompleted = todoGoalsCompleted;\n      if (achievementGoalsCompleted !== undefined) updateData.achievementGoalsCompleted = achievementGoalsCompleted;\n      if (activityGoalsCompleted !== undefined) updateData.activityGoalsCompleted = activityGoalsCompleted;\n      weeklyGoalStore.update(id, updateData);\n      refetchWeeklyGoals();\n    },\n    mutateAsync: async ({ id, weightGoals, todoGoals, achievementGoals, activityGoals, weightGoalsCompleted, todoGoalsCompleted, achievementGoalsCompleted, activityGoalsCompleted }: { \n      id: string; \n      weightGoals?: string[]; \n      todoGoals?: string[]; \n      achievementGoals?: string[]; \n      activityGoals?: string[];\n      weightGoalsCompleted?: boolean[];\n      todoGoalsCompleted?: boolean[];\n      achievementGoalsCompleted?: boolean[];\n      activityGoalsCompleted?: boolean[];\n    }) => {\n      const updateData: any = {};\n      if (weightGoals !== undefined) updateData.weightGoals = weightGoals;\n      if (todoGoals !== undefined) updateData.todoGoals = todoGoals;\n      if (achievementGoals !== undefined) updateData.achievementGoals = achievementGoals;\n      if (activityGoals !== undefined) updateData.activityGoals = activityGoals;\n      if (weightGoalsCompleted !== undefined) updateData.weightGoalsCompleted = weightGoalsCompleted;\n      if (todoGoalsCompleted !== undefined) updateData.todoGoalsCompleted = todoGoalsCompleted;\n      if (achievementGoalsCompleted !== undefined) updateData.achievementGoalsCompleted = achievementGoalsCompleted;\n      if (activityGoalsCompleted !== undefined) updateData.activityGoalsCompleted = activityGoalsCompleted;\n      weeklyGoalStore.update(id, updateData);\n      refetchWeeklyGoals();\n      return Promise.resolve();\n    }\n  };\n\n  const updateSettingsMutation = {\n    mutate: (settingsData: { darkMode?: boolean; themeColor?: string; pushNotifications?: boolean }) => {\n      userSettingsStore.update(settingsData);\n      refetchSettings();\n    },\n    mutateAsync: async (settingsData: { darkMode?: boolean; themeColor?: string; pushNotifications?: boolean }) => {\n      userSettingsStore.update(settingsData);\n      refetchSettings();\n      return Promise.resolve();\n    }\n  };\n\n  const createLinkMutation = {\n    mutate: (linkData: InsertLink) => {\n      linkStore.create({\n        ...linkData,\n        createdAt: new Date(),\n      });\n      refetchLinks();\n      setLinkInputVisible(false);\n      setLinkTitle('');\n      setLinkUrl('');\n      setLinkCategory('other');\n    }\n  };\n\n  const deleteLinkMutation = {\n    mutate: (id: string) => {\n      linkStore.delete(id);\n      refetchLinks();\n    }\n  };\n\n  // Export functionality\n  const convertToCSV = (data: any[], type: string): string => {\n    if (data.length === 0) return '';\n    \n    const headers = Object.keys(data[0]);\n    const csvContent = [\n      headers.join(','),\n      ...data.map(row => \n        headers.map(header => {\n          const value = row[header];\n          if (value === null || value === undefined) return '';\n          if (typeof value === 'string') return `\"${value.replace(/\"/g, '\"\"')}\"`;\n          if (value instanceof Date) return `\"${value.toISOString()}\"`;\n          return `\"${value}\"`;\n        }).join(',')\n      )\n    ].join('\\n');\n    \n    return csvContent;\n  };\n\n  const downloadFile = (content: string, filename: string, contentType: string) => {\n    const blob = new Blob([content], { type: contentType });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  const exportData = async (format: 'json' | 'csv') => {\n    setExportLoading(true);\n    try {\n      const exportData = {\n        exportDate: new Date().toISOString(),\n        data: {\n          todos,\n          schedules,\n          weightRecords,\n          mealRecords,\n          diaryEntries,\n          dailyRoutines,\n          monthlyGoals,\n          links,\n          userSettings\n        }\n      };\n      const timestamp = new Date().toISOString().split('T')[0];\n      \n      if (format === 'json') {\n        const content = JSON.stringify(exportData, null, 2);\n        downloadFile(content, `task-manager-export-${timestamp}.json`, 'application/json');\n      } else if (format === 'csv') {\n        // Create separate CSV files for each data type\n        const { data } = exportData;\n        const csvFiles = [\n          { name: 'todos', data: data.todos },\n          { name: 'schedules', data: data.schedules },\n          { name: 'weight-records', data: data.weightRecords },\n          { name: 'meal-records', data: data.mealRecords },\n          { name: 'diary-entries', data: data.diaryEntries },\n          { name: 'daily-routines', data: data.dailyRoutines },\n          { name: 'monthly-goals', data: data.monthlyGoals },\n          { name: 'links', data: data.links }\n        ];\n        \n        // Create a single CSV file with all data sections\n        let allCsvContent = '';\n        csvFiles.forEach((file, index) => {\n          if (file.data.length > 0) {\n            if (allCsvContent) allCsvContent += '\\n\\n';\n            allCsvContent += `### ${file.name.toUpperCase()} ###\\n`;\n            allCsvContent += convertToCSV(file.data, file.name);\n          }\n        });\n        \n        downloadFile(allCsvContent, `task-manager-export-${timestamp}.csv`, 'text/csv');\n      }\n      \n      setExportModalVisible(false);\n    } catch (error) {\n      alert('エクスポートに失敗しました: ' + error);\n    } finally {\n      setExportLoading(false);\n    }\n  };\n\n  // Notification functionality\n  const requestNotificationPermission = async () => {\n    if ('Notification' in window) {\n      const permission = await Notification.requestPermission();\n      setNotificationPermission(permission);\n      if (permission === 'granted') {\n        setNotificationsEnabled(true);\n      } else {\n        setNotificationsEnabled(false);\n      }\n      return permission;\n    }\n    return 'denied';\n  };\n\n  const showNotification = (title: string, options?: NotificationOptions) => {\n    if (notificationPermission === 'granted' && notificationsEnabled) {\n      new Notification(title, {\n        icon: '/favicon.ico',\n        badge: '/favicon.ico',\n        ...options\n      });\n    }\n  };\n\n  const checkTaskReminders = () => {\n    const now = new Date();\n    const currentTime = now.getHours() * 60 + now.getMinutes();\n    \n    // Check for incomplete todos and schedules\n    const incompleteTodos = todos.filter(todo => !todo.completed);\n    const todaySchedules = schedules.filter(schedule => {\n      const scheduleDate = new Date(schedule.date);\n      return scheduleDate.toDateString() === now.toDateString() && !schedule.completed;\n    });\n\n    if (incompleteTodos.length > 0) {\n      showNotification('タスクリマインダー', {\n        body: `${incompleteTodos.length}件の未完了タスクがあります`,\n        tag: 'task-reminder'\n      });\n    }\n\n    if (todaySchedules.length > 0) {\n      showNotification('予定リマインダー', {\n        body: `今日は${todaySchedules.length}件の予定があります`,\n        tag: 'schedule-reminder'\n      });\n    }\n  };\n\n  const toggleNotifications = async () => {\n    if (!notificationsEnabled) {\n      const permission = await requestNotificationPermission();\n      if (permission === 'granted') {\n        // Check reminders immediately when enabled\n        setTimeout(() => checkTaskReminders(), 1000);\n      }\n    } else {\n      setNotificationsEnabled(false);\n    }\n  };\n\n  // Check for reminders every 30 minutes when notifications are enabled\n  useEffect(() => {\n    if (notificationsEnabled && notificationPermission === 'granted') {\n      const interval = setInterval(checkTaskReminders, 30 * 60 * 1000); // 30 minutes\n      return () => clearInterval(interval);\n    }\n  }, [notificationsEnabled, notificationPermission, todos, schedules]);\n\n  // Initialize notification permission status\n  useEffect(() => {\n    if ('Notification' in window) {\n      setNotificationPermission(Notification.permission);\n    }\n  }, []);\n\n  // Save todoVisible to localStorage\n  useEffect(() => {\n    localStorage.setItem('todoVisible', JSON.stringify(todoVisible));\n  }, [todoVisible]);\n\n  // Save notificationsEnabled to localStorage\n  useEffect(() => {\n    localStorage.setItem('notificationsEnabled', JSON.stringify(notificationsEnabled));\n  }, [notificationsEnabled]);\n\n  // Apply theme color to CSS custom properties\n  useEffect(() => {\n    const themeColorMap: Record<string, { h: number; s: number; l: number }> = {\n      pink: { h: 330, s: 81, l: 56 },\n      blue: { h: 217, s: 91, l: 60 },\n      green: { h: 142, s: 71, l: 45 },\n      purple: { h: 271, s: 81, l: 56 },\n      orange: { h: 25, s: 95, l: 53 }\n    };\n    \n    const color = userSettings?.themeColor || 'pink';\n    const theme = themeColorMap[color] || themeColorMap.pink;\n    \n    const root = document.documentElement;\n    root.style.setProperty('--theme-50', `hsl(${theme.h}, ${theme.s}%, 96%)`);\n    root.style.setProperty('--theme-100', `hsl(${theme.h}, ${theme.s}%, 95%)`);\n    root.style.setProperty('--theme-200', `hsl(${theme.h}, ${theme.s}%, 90%)`);\n    root.style.setProperty('--theme-400', `hsl(${theme.h}, ${theme.s}%, 60%)`);\n    root.style.setProperty('--theme-500', `hsl(${theme.h}, ${theme.s}%, ${theme.l}%)`);\n    root.style.setProperty('--theme-600', `hsl(${theme.h}, ${theme.s}%, ${theme.l - 6}%)`);\n    root.style.setProperty('--theme-900', `hsl(${theme.h}, ${theme.s - 14}%, 25%)`);\n    root.style.setProperty('--primary', `hsl(${theme.h}, ${theme.s}%, ${theme.l}%)`);\n    root.style.setProperty('--ring', `hsl(${theme.h}, ${theme.s}%, ${theme.l}%)`);\n    root.style.setProperty('--accent', `hsl(${theme.h}, ${theme.s}%, 90%)`);\n    root.style.setProperty('--accent-foreground', `hsl(${theme.h}, ${theme.s}%, ${theme.l}%)`);\n  }, [userSettings?.themeColor]);\n\n  const [scheduleModalVisible, setScheduleModalVisible] = useState(false);\n  const [scheduleInput, setScheduleInput] = useState('');\n  const [diaryText, setDiaryText] = useState('');\n  const [weightInput, setWeightInput] = useState('');\n  const [heightInput, setHeightInput] = useState('');\n  const [bodyFatInput, setBodyFatInput] = useState('');\n\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  // BMI計算関数\n  const calculateBMI = () => {\n    if (weightRecords.length === 0) return null;\n    \n    const latestRecord = weightRecords[weightRecords.length - 1];\n    const weight = latestRecord.weight;\n    const height = latestRecord.height;\n    \n    if (height && height > 0) {\n      const heightInMeters = height / 100; // cmをmに変換\n      const bmi = weight / (heightInMeters * heightInMeters);\n      return bmi.toFixed(1);\n    }\n    \n    return null;\n  };\n\n  useEffect(() => {\n    if (pomodoro.isRunning) {\n      intervalRef.current = setInterval(() => {\n        setPomodoro(prev => {\n          if (prev.seconds > 0) {\n            return { ...prev, seconds: prev.seconds - 1 };\n          } else if (prev.minutes > 0) {\n            return { ...prev, minutes: prev.minutes - 1, seconds: 59 };\n          } else {\n            // Timer finished\n            alert('時間です！');\n            return { ...prev, isRunning: false };\n          }\n        });\n      }, 1000);\n    } else {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n    }\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [pomodoro.isRunning]);\n\n  // Timer effect (countdown)\n  useEffect(() => {\n    let interval: NodeJS.Timeout | null = null;\n    if (timerRunning) {\n      interval = setInterval(() => {\n        setTimerSeconds(prev => {\n          if (prev > 0) {\n            return prev - 1;\n          } else if (timerMinutes > 0) {\n            setTimerMinutes(m => m - 1);\n            return 59;\n          } else {\n            setTimerRunning(false);\n            alert('タイマー終了！');\n            return 0;\n          }\n        });\n      }, 1000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [timerRunning, timerMinutes]);\n\n  // Stopwatch effect (count up)\n  useEffect(() => {\n    let interval: NodeJS.Timeout | null = null;\n    if (stopwatchRunning) {\n      interval = setInterval(() => {\n        setStopwatchSeconds(prev => {\n          if (prev < 59) {\n            return prev + 1;\n          } else {\n            setStopwatchMinutes(m => m + 1);\n            return 0;\n          }\n        });\n      }, 1000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [stopwatchRunning]);\n\n  const getCurrentDate = () => {\n    return new Date().toLocaleDateString('ja-JP', {\n      month: 'short',\n      day: 'numeric',\n      weekday: 'short'\n    });\n  };\n\n  const getWeekStartEnd = (offset: number = 0) => {\n    const now = new Date();\n    const dayOfWeek = now.getDay(); // 0 = Sunday\n    const weekStart = new Date(now);\n    weekStart.setDate(now.getDate() - dayOfWeek + (offset * 7));\n    weekStart.setHours(0, 0, 0, 0);\n    \n    const weekEnd = new Date(weekStart);\n    weekEnd.setDate(weekStart.getDate() + 6);\n    weekEnd.setHours(23, 59, 59, 999);\n    \n    return { weekStart, weekEnd };\n  };\n\n  const showScreen = (screenId: string) => {\n    setCurrentScreen(screenId);\n    window.scrollTo(0, 0);\n  };\n\n  const addTodo = () => {\n    setTodoInputModalVisible(true);\n  };\n\n  const getCurrentLocation = () => {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          setLocationLat(position.coords.latitude);\n          setLocationLng(position.coords.longitude);\n          setLocationName(`位置 (${position.coords.latitude.toFixed(4)}, ${position.coords.longitude.toFixed(4)})`);\n        },\n        (error) => {\n          console.error('位置情報の取得に失敗しました:', error);\n          alert('位置情報の取得に失敗しました。ブラウザの設定を確認してください。');\n        }\n      );\n    } else {\n      alert('このブラウザは位置情報をサポートしていません。');\n    }\n  };\n  \n  const saveTodoInput = () => {\n    if (todoInputText.trim()) {\n      createTodoMutation.mutate({\n        text: todoInputText.trim(),\n        completed: false,\n        repeatType: repeatType === 'none' ? null : repeatType,\n        repeatDays: repeatType === 'weekly' && repeatDays.length > 0 ? repeatDays : null,\n        repeatDate: repeatType === 'monthly' ? repeatDate : null,\n        location: locationEnabled && locationName ? locationName : null,\n        locationLat: locationEnabled && locationLat !== null ? locationLat.toString() : null,\n        locationLng: locationEnabled && locationLng !== null ? locationLng.toString() : null,\n        locationRadius: locationEnabled ? locationRadius : null\n      });\n      setTodoInputText('');\n      setRepeatType('none');\n      setRepeatDays([]);\n      setRepeatDate(null);\n      setLocationEnabled(false);\n      setLocationName('');\n      setLocationLat(null);\n      setLocationLng(null);\n      setLocationRadius(100);\n      if (!todoVisible) {\n        setTodoVisible(true);\n      }\n      // Keep modal open for continuous input\n    }\n  };\n  \n  const addScheduleForDate = (date: Date) => {\n    setScheduleInputDate(date);\n    setScheduleInputModalVisible(true);\n    setCalendarModalVisible(false);\n  };\n  \n  const saveScheduleInput = () => {\n    if (scheduleInputText.trim() && scheduleInputDate) {\n      let timeValue: Date | null = null;\n      if (scheduleInputTime) {\n        const [hours, minutes] = scheduleInputTime.split(':').map(Number);\n        timeValue = new Date(scheduleInputDate);\n        timeValue.setHours(hours, minutes, 0, 0);\n      }\n      createScheduleMutation.mutate({\n        text: scheduleInputText.trim(),\n        date: scheduleInputDate.toLocaleDateString('sv-SE'),\n        time: timeValue,\n        completed: false\n      });\n      setScheduleInputText('');\n      setScheduleInputTime('');\n      setScheduleInputDate(null);\n      setScheduleInputModalVisible(false);\n    }\n  };\n\n  const toggleTodo = (id: string) => {\n    const todo = todos.find(t => t.id === id);\n    if (todo) {\n      updateTodoMutation.mutate({\n        id,\n        completed: !todo.completed\n      });\n    }\n  };\n\n  const deleteTodo = (id: string) => {\n    deleteTodoMutation.mutate(id);\n  };\n\n  const togglePomodoro = () => {\n    setPomodoro(prev => ({ ...prev, isRunning: !prev.isRunning }));\n  };\n\n  const resetPomodoro = () => {\n    setPomodoro(prev => ({\n      ...prev,\n      isRunning: false,\n      minutes: prev.mode === 'pomodoro' ? 25 : prev.mode === 'shortBreak' ? 5 : 15,\n      seconds: 0\n    }));\n  };\n\n  const setPomodoroMode = (mode: 'pomodoro' | 'shortBreak' | 'longBreak') => {\n    const minutes = mode === 'pomodoro' ? 25 : mode === 'shortBreak' ? 5 : 15;\n    setPomodoro({\n      minutes,\n      seconds: 0,\n      isRunning: false,\n      mode\n    });\n  };\n\n  const saveSchedule = () => {\n    if (scheduleInput.trim()) {\n      createScheduleMutation.mutate({\n        text: scheduleInput.trim(),\n        date: new Date().toISOString().split('T')[0],\n        time: new Date(),\n        completed: false\n      });\n      setScheduleInput('');\n      setScheduleModalVisible(false);\n    }\n  };\n\n  const saveWeight = () => {\n    if (weightInput.trim()) {\n      const weight = parseFloat(weightInput);\n      if (!isNaN(weight)) {\n        createWeightRecordMutation.mutate({\n          date: new Date().toISOString().split('T')[0],\n          weight: weight,\n          height: heightInput ? parseFloat(heightInput) : undefined,\n          bodyFat: bodyFatInput ? parseFloat(bodyFatInput) : undefined\n        });\n        setWeightInput('');\n        setHeightInput('');\n        setBodyFatInput('');\n      }\n    }\n  };\n\n  const saveDiary = () => {\n    if (diaryText.trim()) {\n      createDiaryEntryMutation.mutate({\n        date: new Date().toISOString().split('T')[0],\n        content: diaryText.trim(),\n        mood: undefined,\n        photos: undefined\n      });\n      setDiaryText('');\n    }\n  };\n\n  const getTodaysSchedules = () => {\n    const today = new Date().toISOString().split('T')[0];\n    return schedules.filter(schedule => schedule.date === today);\n  };\n\n  const formatTime = (date: Date | null) => {\n    if (!date) return '--:--';\n    return date.toLocaleTimeString('ja-JP', { hour: '2-digit', minute: '2-digit' });\n  };\n\n  const renderHomeScreen = () => (\n    <div className=\"page p-4 space-y-6\">\n      {/* Header */}\n      <header className=\"flex items-center justify-between mb-4\">\n        <h1 className=\"text-2xl font-bold\">タスク管理</h1>\n        <div className=\"flex items-center gap-2\">\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\"\n            onClick={() => showScreen('pomodoro-screen')}\n            data-testid=\"button-timer\"\n            title=\"タイマー\"\n          >\n            <Timer size={24} />\n          </button>\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\"\n            onClick={() => showScreen('calendar-screen')}\n            data-testid=\"button-calendar\"\n            title=\"カレンダー\"\n          >\n            <Calendar size={24} />\n          </button>\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\"\n            onClick={() => showScreen('settings-screen')}\n            data-testid=\"button-settings\"\n            title=\"設定\"\n          >\n            <Settings size={24} />\n          </button>\n        </div>\n      </header>\n\n      {/* Scheduled Today Section */}\n      <section className=\"space-y-2 mb-6\">\n        <div className=\"flex items-center\">\n          <h2 className=\"text-xl font-bold\">今日の予定</h2>\n          <button\n            className=\"ml-2 bg-theme-500 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-theme-600 transition-colors focus:outline-none focus:ring-2 focus:ring-theme-500 focus:ring-opacity-75\"\n            onClick={() => {\n              setScheduleInputDate(new Date());\n              setScheduleInputModalVisible(true);\n            }}\n            data-testid=\"button-add-schedule-home\"\n          >\n            <Plus size={20} strokeWidth={2.5} />\n          </button>\n        </div>\n        {schedulesLoading ? (\n          <div className=\"text-center py-4 text-gray-500\">Loading schedules...</div>\n        ) : getTodaysSchedules().length > 0 && (\n          <>\n            {getTodaysSchedules().map(schedule => (\n              <div key={schedule.id} className=\"task-card\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"font-medium flex-grow\">{schedule.text}</span>\n                  <span className=\"text-sm text-gray-500 mr-2\">\n                    {schedule.time ? formatTime(schedule.time) : ''}\n                  </span>\n                  <button\n                    onClick={() => deleteScheduleMutation.mutate(schedule.id)}\n                    className=\"text-red-500 hover:text-red-700 flex-shrink-0\"\n                    data-testid={`button-delete-schedule-home-${schedule.id}`}\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </>\n        )}\n      </section>\n\n      {/* TODO List Section */}\n      <section>\n        <div className=\"flex justify-between items-center mb-3\">\n          <div \n            className=\"flex items-center cursor-pointer flex-grow\"\n            onClick={() => setTodoVisible(!todoVisible)}\n            data-testid=\"toggle-todo-visibility\"\n          >\n            <h2 className=\"text-xl font-bold\">TODOリスト</h2>\n            <button \n              className=\"ml-2 bg-theme-500 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-theme-600 transition-colors focus:outline-none focus:ring-2 focus:ring-theme-500 focus:ring-opacity-75\"\n              onClick={(e) => {\n                e.stopPropagation();\n                addTodo();\n              }}\n              data-testid=\"button-add-todo\"\n            >\n              <Plus size={20} strokeWidth={2.5} />\n            </button>\n            <ChevronDown \n              className={`transition-transform ml-auto ${todoVisible ? 'rotate-180' : ''}`}\n              size={24}\n            />\n          </div>\n        </div>\n        <div className={`${todoVisible ? '' : 'hidden'}`}>\n          {todosLoading ? (\n            <div className=\"text-center py-4 text-gray-500\">Loading todos...</div>\n          ) : (\n          <div className=\"space-y-2\">\n            {todos.map(todo => (\n              <div key={todo.id} className=\"task-item\" data-testid={`todo-item-${todo.id}`}>\n                <input\n                  type=\"checkbox\"\n                  checked={todo.completed}\n                  onChange={() => toggleTodo(todo.id)}\n                  className=\"h-5 w-5 rounded border-gray-300 text-theme-600 focus:ring-theme-500\"\n                  data-testid={`checkbox-todo-${todo.id}`}\n                />\n                <span className={`flex-grow ${todo.completed ? 'line-through text-gray-400' : ''}`}>\n                  {todo.text}\n                </span>\n                {todo.repeatType && (\n                  <span title={\n                    todo.repeatType === 'daily' ? '毎日' :\n                    todo.repeatType === 'weekly' ? `毎週 ${todo.repeatDays?.map(d => ['日', '月', '火', '水', '木', '金', '土'][d]).join(', ')}` :\n                    todo.repeatType === 'monthly' ? `毎月 ${todo.repeatDate}日` :\n                    '繰り返し'\n                  }>\n                    <Repeat \n                      size={16} \n                      className=\"text-theme-500 mr-2\" \n                      data-testid={`icon-repeat-${todo.id}`}\n                    />\n                  </span>\n                )}\n                <button \n                  onClick={() => deleteTodo(todo.id)}\n                  className=\"text-red-500 hover:text-red-700\"\n                  data-testid={`button-delete-todo-${todo.id}`}\n                >\n                  <X size={16} />\n                </button>\n              </div>\n            ))}\n          </div>\n          )}\n        </div>\n      </section>\n\n      {/* My Page Section */}\n      <section>\n        <h2 className=\"text-xl font-bold mb-3\">マイページ</h2>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div \n            className=\"record-card\" \n            onClick={() => showScreen('meal-detail-screen')}\n            data-testid=\"card-meal\"\n          >\n            <h3 className=\"font-bold\">食事</h3>\n            <p className=\"text-sm text-gray-500\">1800 kcal</p>\n          </div>\n          <div \n            className=\"record-card\" \n            onClick={() => showScreen('body-detail-screen')}\n            data-testid=\"card-body\"\n          >\n            <h3 className=\"font-bold\">身体</h3>\n            <p className=\"text-sm text-gray-500\">\n              {weightRecordsLoading ? 'Loading...' : weightRecords.length > 0 ? `${weightRecords[weightRecords.length - 1].weight} kg` : '65.2 kg'}\n            </p>\n          </div>\n          <div \n            className=\"record-card relative\" \n            onClick={() => showScreen('diary-detail-screen')}\n            data-testid=\"card-diary\"\n          >\n            <h3 className=\"font-bold flex items-center\">\n              メモ\n              {diaryEntries.length > 0 && (\n                <Star \n                  size={16} \n                  className=\"ml-2 text-yellow-500 fill-yellow-500\" \n                  data-testid=\"memo-star-indicator\"\n                />\n              )}\n            </h3>\n            <p className=\"text-sm text-gray-500\">\n              {diaryEntries.length > 0 \n                ? `${diaryEntries.length}件のメモあり` \n                : 'メモを記録・管理...'\n              }\n            </p>\n          </div>\n          <div \n            className=\"record-card\" \n            onClick={() => showScreen('links-screen')}\n            data-testid=\"card-links\"\n          >\n            <h3 className=\"font-bold flex items-center\">\n              <LinkIcon size={18} className=\"mr-1\" />\n              リンク\n            </h3>\n            <p className=\"text-sm text-gray-500\">\n              {linksLoading ? 'Loading...' : links.length > 0 \n                ? `${links.length}件のリンク` \n                : '動画リンクを保存...'\n              }\n            </p>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n\n  const renderPomodoroScreen = () => (\n    <div className=\"page p-4 text-center\">\n      <header className=\"flex items-center mb-6\">\n        <button \n          className=\"p-2 rounded-full hover:bg-gray-100\"\n          onClick={() => showScreen('home-screen')}\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft size={24} />\n        </button>\n        <h2 className=\"text-xl font-bold mx-auto pr-8\">タイマー</h2>\n      </header>\n      \n      {/* Mode Selection Tabs */}\n      <div className=\"flex justify-center space-x-2 mb-6\">\n        {[\n          { mode: 'pomodoro' as const, label: 'ポモドーロ' },\n          { mode: 'timer' as const, label: 'タイマー' },\n          { mode: 'stopwatch' as const, label: 'ストップウォッチ' }\n        ].map(({ mode, label }) => (\n          <button\n            key={mode}\n            className={`px-6 py-2 rounded-full text-sm font-medium transition-colors ${\n              timerScreenMode === mode \n                ? 'bg-theme-500 text-white' \n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            onClick={() => switchTimerMode(mode)}\n            data-testid={`button-mode-${mode}`}\n          >\n            {label}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-inner p-6\">\n        {/* Pomodoro Mode */}\n        {timerScreenMode === 'pomodoro' && (\n          <>\n            <div className=\"flex justify-center space-x-2 mb-6\">\n              {[\n                { mode: 'pomodoro', label: 'ポモドーロ' },\n                { mode: 'shortBreak', label: '短い休憩' },\n                { mode: 'longBreak', label: '長い休憩' }\n              ].map(({ mode, label }) => (\n                <button\n                  key={mode}\n                  className={`pomodoro-btn px-4 py-1 rounded-full text-sm font-medium ${\n                    pomodoro.mode === mode ? 'active' : ''\n                  }`}\n                  onClick={() => setPomodoroMode(mode as any)}\n                  data-testid={`button-pomodoro-${mode}`}\n                >\n                  {label}\n                </button>\n              ))}\n            </div>\n            <div className=\"text-7xl font-bold text-theme-900 mb-6\" data-testid=\"text-pomodoro-timer\">\n              {String(pomodoro.minutes).padStart(2, '0')}:{String(pomodoro.seconds).padStart(2, '0')}\n            </div>\n            <div className=\"flex justify-center items-center space-x-6\">\n              <button\n                className=\"w-16 h-16 flex items-center justify-center bg-theme-500 text-white font-semibold rounded-full shadow-md hover:bg-theme-600 transition\"\n                onClick={togglePomodoro}\n                data-testid=\"button-pomodoro-toggle\"\n              >\n                {pomodoro.isRunning ? <Pause size={32} /> : <Play size={32} />}\n              </button>\n              <button\n                className=\"w-12 h-12 flex items-center justify-center bg-gray-200 text-gray-800 font-semibold rounded-full hover:bg-gray-300 transition\"\n                onClick={resetPomodoro}\n                data-testid=\"button-pomodoro-reset\"\n              >\n                <RotateCcw size={24} />\n              </button>\n            </div>\n          </>\n        )}\n\n        {/* Timer Mode */}\n        {timerScreenMode === 'timer' && (\n          <>\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">時間を設定</label>\n              <div className=\"flex justify-center items-center space-x-2\">\n                <input \n                  type=\"number\" \n                  min=\"0\" \n                  max=\"99\"\n                  placeholder=\"0\" \n                  value={timerMinutes || ''}\n                  onChange={(e) => setTimerMinutes(parseInt(e.target.value) || 0)}\n                  className=\"w-20 px-2 py-2 border rounded text-center text-2xl\"\n                  disabled={timerRunning}\n                  data-testid=\"input-timer-minutes\"\n                />\n                <span className=\"text-2xl font-medium\">分</span>\n                <input \n                  type=\"number\" \n                  min=\"0\" \n                  max=\"59\"\n                  placeholder=\"0\" \n                  value={timerSeconds || ''}\n                  onChange={(e) => setTimerSeconds(parseInt(e.target.value) || 0)}\n                  className=\"w-20 px-2 py-2 border rounded text-center text-2xl\"\n                  disabled={timerRunning}\n                  data-testid=\"input-timer-seconds\"\n                />\n                <span className=\"text-2xl font-medium\">秒</span>\n              </div>\n            </div>\n            <div className=\"text-7xl font-bold text-theme-900 mb-6\" data-testid=\"text-timer-display\">\n              {String(timerMinutes).padStart(2, '0')}:{String(timerSeconds).padStart(2, '0')}\n            </div>\n            <div className=\"flex justify-center items-center space-x-6\">\n              <button\n                className=\"w-16 h-16 flex items-center justify-center bg-theme-500 text-white font-semibold rounded-full shadow-md hover:bg-theme-600 transition\"\n                onClick={() => setTimerRunning(!timerRunning)}\n                disabled={timerMinutes === 0 && timerSeconds === 0}\n                data-testid=\"button-timer-toggle\"\n              >\n                {timerRunning ? <Pause size={32} /> : <Play size={32} />}\n              </button>\n              <button\n                className=\"w-12 h-12 flex items-center justify-center bg-gray-200 text-gray-800 font-semibold rounded-full hover:bg-gray-300 transition\"\n                onClick={() => {\n                  setTimerRunning(false);\n                  setTimerMinutes(0);\n                  setTimerSeconds(0);\n                }}\n                data-testid=\"button-timer-reset\"\n              >\n                <RotateCcw size={24} />\n              </button>\n            </div>\n          </>\n        )}\n\n        {/* Stopwatch Mode */}\n        {timerScreenMode === 'stopwatch' && (\n          <>\n            <div className=\"text-7xl font-bold text-theme-900 mb-6\" data-testid=\"text-stopwatch-display\">\n              {String(stopwatchMinutes).padStart(2, '0')}:{String(stopwatchSeconds).padStart(2, '0')}\n            </div>\n            <div className=\"flex justify-center items-center space-x-6\">\n              <button\n                className=\"w-16 h-16 flex items-center justify-center bg-theme-500 text-white font-semibold rounded-full shadow-md hover:bg-theme-600 transition\"\n                onClick={() => setStopwatchRunning(!stopwatchRunning)}\n                data-testid=\"button-stopwatch-toggle\"\n              >\n                {stopwatchRunning ? <Pause size={32} /> : <Play size={32} />}\n              </button>\n              <button\n                className=\"w-12 h-12 flex items-center justify-center bg-gray-200 text-gray-800 font-semibold rounded-full hover:bg-gray-300 transition\"\n                onClick={() => {\n                  setStopwatchRunning(false);\n                  setStopwatchMinutes(0);\n                  setStopwatchSeconds(0);\n                }}\n                data-testid=\"button-stopwatch-reset\"\n              >\n                <RotateCcw size={24} />\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n\n\n  const renderBodyDetailScreen = () => (\n    <div className=\"page p-4\">\n      <header className=\"flex items-center mb-6\">\n        <button \n          className=\"p-2 rounded-full hover:bg-gray-100\"\n          onClick={() => showScreen('home-screen')}\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft size={24} />\n        </button>\n        <h2 className=\"text-xl font-bold mx-auto pr-8\">身体記録</h2>\n      </header>\n      <div className=\"px-4 space-y-6\">\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"font-bold text-lg mb-4\">今日の記録</h3>\n          <div className=\"grid grid-cols-3 gap-3 mb-6\">\n            <div className=\"bg-gray-50 rounded-lg p-3 text-center\">\n              <div className=\"text-xl font-bold text-theme-600\" data-testid=\"text-current-weight\">\n                {weightRecords.length > 0 ? weightRecords[weightRecords.length - 1].weight : '65.2'}\n              </div>\n              <div className=\"text-xs text-gray-500\">体重 (kg)</div>\n            </div>\n            <div className=\"bg-gray-50 rounded-lg p-3 text-center\">\n              <div className=\"text-xl font-bold text-theme-600\" data-testid=\"text-current-height\">\n                {weightRecords.length > 0 && weightRecords[weightRecords.length - 1].height \n                  ? weightRecords[weightRecords.length - 1].height! \n                  : '--'}\n              </div>\n              <div className=\"text-xs text-gray-500\">身長 (cm)</div>\n            </div>\n            <div className=\"bg-gray-50 rounded-lg p-3 text-center\">\n              <div className=\"text-xl font-bold text-theme-600\" data-testid=\"text-current-bmi\">\n                {calculateBMI() || '--'}\n              </div>\n              <div className=\"text-xs text-gray-500\">BMI</div>\n            </div>\n          </div>\n          \n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <label className=\"font-medium\">体重 (kg)</label>\n              <div className=\"flex items-center space-x-2\">\n                <input \n                  type=\"number\" \n                  step=\"0.1\" \n                  placeholder=\"65.2\" \n                  value={weightInput}\n                  onChange={(e) => setWeightInput(e.target.value)}\n                  className=\"w-20 px-2 py-1 border rounded text-center\"\n                  data-testid=\"input-weight\"\n                />\n                <button \n                  className=\"px-3 py-1 bg-theme-500 text-white text-sm rounded hover:bg-theme-600\"\n                  onClick={saveWeight}\n                  data-testid=\"button-save-weight\"\n                >\n                  保存\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center justify-between\">\n              <label className=\"font-medium\">身長 (cm)</label>\n              <div className=\"flex items-center space-x-2\">\n                <input \n                  type=\"number\" \n                  step=\"0.1\" \n                  placeholder=\"170.0\" \n                  value={heightInput}\n                  onChange={(e) => setHeightInput(e.target.value)}\n                  className=\"w-20 px-2 py-1 border rounded text-center\"\n                  data-testid=\"input-height\"\n                />\n                <button \n                  className=\"px-3 py-1 bg-theme-500 text-white text-sm rounded hover:bg-theme-600\"\n                  onClick={saveWeight}\n                  data-testid=\"button-save-height\"\n                >\n                  保存\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center justify-between\">\n              <label className=\"font-medium\">体脂肪率 (%)</label>\n              <div className=\"flex items-center space-x-2\">\n                <input \n                  type=\"number\" \n                  step=\"0.1\" \n                  placeholder=\"15.0\" \n                  value={bodyFatInput}\n                  onChange={(e) => setBodyFatInput(e.target.value)}\n                  className=\"w-20 px-2 py-1 border rounded text-center\"\n                  data-testid=\"input-body-fat\"\n                />\n                <button \n                  className=\"px-3 py-1 bg-theme-500 text-white text-sm rounded hover:bg-theme-600\"\n                  onClick={saveWeight}\n                  data-testid=\"button-save-body-fat\"\n                >\n                  保存\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"font-bold text-lg mb-4\">体重推移</h3>\n          <div className=\"h-64 flex items-center justify-center bg-gray-50 rounded\">\n            <span className=\"text-gray-500\">チャートエリア</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderDiaryDetailScreen = () => (\n    <div className=\"page p-4\">\n      <header className=\"flex items-center mb-6\">\n        <button \n          className=\"p-2 rounded-full hover:bg-gray-100\"\n          onClick={() => showScreen('home-screen')}\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft size={24} />\n        </button>\n        <h2 className=\"text-xl font-bold mx-auto pr-8\">メモ</h2>\n      </header>\n      <div className=\"px-4 space-y-6\">\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"font-bold text-lg mb-4\">新しいメモ</h3>\n          <textarea \n            placeholder=\"メモを入力してください\" \n            rows={8}\n            value={diaryText}\n            onChange={(e) => setDiaryText(e.target.value)}\n            className=\"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-theme-500 focus:border-theme-500\"\n            data-testid=\"textarea-diary\"\n          />\n          <div className=\"flex justify-between items-center mt-4\">\n            <div className=\"flex items-center space-x-4\">\n              <button className=\"flex items-center space-x-1 text-gray-500 hover:text-theme-500\" data-testid=\"button-add-photo\">\n                <Camera size={20} />\n                <span className=\"text-sm\">写真</span>\n              </button>\n              <button className=\"flex items-center space-x-1 text-gray-500 hover:text-theme-500\" data-testid=\"button-add-mood\">\n                <Smile size={20} />\n                <span className=\"text-sm\">気分</span>\n              </button>\n            </div>\n            <button \n              className=\"px-6 py-2 bg-theme-500 text-white rounded-lg hover:bg-theme-600\"\n              onClick={saveDiary}\n              data-testid=\"button-save-diary\"\n            >\n              保存\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"font-bold text-lg mb-4\">過去のメモ</h3>\n          <div className=\"space-y-3\">\n            {diaryEntries.slice(-5).reverse().map(entry => (\n              <div key={entry.id} className=\"p-3 border rounded-lg relative\">\n                <button\n                  onClick={() => deleteDiaryEntryMutation.mutate(entry.id)}\n                  className=\"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors\"\n                  data-testid={`button-delete-diary-${entry.id}`}\n                  aria-label=\"メモを削除\"\n                >\n                  <X size={16} />\n                </button>\n                <div className=\"text-sm text-gray-500 mb-1\">{entry.date}</div>\n                <div className=\"text-sm pr-6\">{entry.content}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  // Initialize daily routine state when screen changes\n  useEffect(() => {\n    if (currentScreen === 'daily-routine-screen') {\n      const today = new Date().toISOString().split('T')[0];\n      const todayRoutine = dailyRoutines.find(r => r.date === today);\n      setRoutineContent(todayRoutine?.content || '');\n      setIsRoutineEditing(!todayRoutine);\n    }\n  }, [currentScreen, dailyRoutines]);\n\n  // Initialize monthly goal state when screen changes\n  useEffect(() => {\n    if (currentScreen === 'monthly-goal-screen' || showGoalSetupScreen) {\n      const currentMonth = new Date().toISOString().slice(0, 7); // YYYY-MM\n      const currentMonthGoal = monthlyGoals.find(g => g.month === currentMonth);\n      setWeightGoals(currentMonthGoal?.weightGoals || []);\n      setTodoGoals(currentMonthGoal?.todoGoals || []);\n      setAchievementGoals(currentMonthGoal?.achievementGoals || []);\n      setActivityGoals(currentMonthGoal?.activityGoals || []);\n      setIsMonthlyGoalEditing(!currentMonthGoal);\n    }\n  }, [currentScreen, showGoalSetupScreen, monthlyGoals]);\n\n  const handleSaveDailyRoutine = async () => {\n    const today = new Date().toISOString().split('T')[0];\n    const todayRoutine = dailyRoutines.find(r => r.date === today);\n    \n    if (!routineContent.trim()) {\n      alert('内容を入力してください');\n      return;\n    }\n\n    try {\n      if (todayRoutine) {\n        await updateDailyRoutineMutation.mutateAsync({\n          id: todayRoutine.id,\n          content: routineContent\n        });\n      } else {\n        await createDailyRoutineMutation.mutateAsync({\n          date: today,\n          content: routineContent\n        });\n      }\n      setIsRoutineEditing(false);\n    } catch (error) {\n      console.error('Failed to save daily routine:', error);\n      alert('保存に失敗しました');\n    }\n  };\n\n  const handleSaveMonthlyGoal = async () => {\n    const currentMonth = new Date().toISOString().slice(0, 7);\n    const currentMonthGoal = monthlyGoals.find(g => g.month === currentMonth);\n    \n    // Filter out empty strings and at least one goal should be filled\n    const filteredWeightGoals = weightGoals.filter(g => g.trim());\n    const filteredTodoGoals = todoGoals.filter(g => g.trim());\n    const filteredAchievementGoals = achievementGoals.filter(g => g.trim());\n    const filteredActivityGoals = activityGoals.filter(g => g.trim());\n    \n    if (filteredWeightGoals.length === 0 && filteredTodoGoals.length === 0 && \n        filteredAchievementGoals.length === 0 && filteredActivityGoals.length === 0) {\n      alert('少なくとも1つの目標を入力してください');\n      return;\n    }\n\n    try {\n      if (currentMonthGoal) {\n        await updateMonthlyGoalMutation.mutateAsync({\n          id: currentMonthGoal.id,\n          weightGoals: filteredWeightGoals.length > 0 ? filteredWeightGoals : undefined,\n          todoGoals: filteredTodoGoals.length > 0 ? filteredTodoGoals : undefined,\n          achievementGoals: filteredAchievementGoals.length > 0 ? filteredAchievementGoals : undefined,\n          activityGoals: filteredActivityGoals.length > 0 ? filteredActivityGoals : undefined,\n          weightGoalsCompleted: currentMonthGoal.weightGoalsCompleted,\n          todoGoalsCompleted: currentMonthGoal.todoGoalsCompleted,\n          achievementGoalsCompleted: currentMonthGoal.achievementGoalsCompleted,\n          activityGoalsCompleted: currentMonthGoal.activityGoalsCompleted,\n        });\n      } else {\n        await createMonthlyGoalMutation.mutateAsync({\n          month: currentMonth,\n          weightGoals: filteredWeightGoals.length > 0 ? filteredWeightGoals : undefined,\n          todoGoals: filteredTodoGoals.length > 0 ? filteredTodoGoals : undefined,\n          achievementGoals: filteredAchievementGoals.length > 0 ? filteredAchievementGoals : undefined,\n          activityGoals: filteredActivityGoals.length > 0 ? filteredActivityGoals : undefined,\n        });\n      }\n      setIsMonthlyGoalEditing(false);\n      setShowGoalSetupScreen(false);\n      // Save last setup month to localStorage\n      localStorage.setItem('lastGoalSetupMonth', currentMonth);\n    } catch (error) {\n      console.error('Failed to save monthly goal:', error);\n      alert('保存に失敗しました');\n    }\n  };\n\n  const handleToggleGoalCompletion = async (\n    category: 'weight' | 'todo' | 'achievement' | 'activity',\n    index: number\n  ) => {\n    const currentMonth = new Date().toISOString().slice(0, 7);\n    const currentMonthGoal = monthlyGoals.find(g => g.month === currentMonth);\n    \n    if (!currentMonthGoal) return;\n\n    // Map category to completion field\n    const completionFieldMap = {\n      weight: 'weightGoalsCompleted',\n      todo: 'todoGoalsCompleted',\n      achievement: 'achievementGoalsCompleted',\n      activity: 'activityGoalsCompleted',\n    } as const;\n\n    // Map category to goals field to get array length\n    const goalsFieldMap = {\n      weight: 'weightGoals',\n      todo: 'todoGoals',\n      achievement: 'achievementGoals',\n      activity: 'activityGoals',\n    } as const;\n\n    const completionField = completionFieldMap[category];\n    const goalsField = goalsFieldMap[category];\n    const goalsList = currentMonthGoal[goalsField] || [];\n    \n    // Clone and normalize the completion array\n    const currentCompleted = currentMonthGoal[completionField] || [];\n    const normalizedCompleted = Array(goalsList.length).fill(false).map((_, i) => currentCompleted[i] || false);\n    \n    // Toggle the target index\n    normalizedCompleted[index] = !normalizedCompleted[index];\n\n    try {\n      await updateMonthlyGoalMutation.mutateAsync({\n        id: currentMonthGoal.id,\n        [completionField]: normalizedCompleted,\n      });\n    } catch (error) {\n      console.error('Failed to toggle goal completion:', error);\n    }\n  };\n\n  // Get ISO week number (YYYY-WW format)\n  const getWeekNumber = (date: Date): string => {\n    const target = new Date(date.valueOf());\n    const dayNr = (date.getDay() + 6) % 7;\n    target.setDate(target.getDate() - dayNr + 3);\n    const firstThursday = target.valueOf();\n    target.setMonth(0, 1);\n    if (target.getDay() !== 4) {\n      target.setMonth(0, 1 + ((4 - target.getDay()) + 7) % 7);\n    }\n    const weekNumber = 1 + Math.ceil((firstThursday - target.valueOf()) / 604800000);\n    const year = new Date(firstThursday).getFullYear();\n    return `${year}-${String(weekNumber).padStart(2, '0')}`;\n  };\n\n  const handleSaveWeeklyGoal = async () => {\n    const currentWeek = getWeekNumber(new Date());\n    const currentWeekGoal = weeklyGoals.find(g => g.week === currentWeek);\n    \n    // Filter out empty strings\n    const filteredWeeklyWeightGoals = weeklyWeightGoals.filter(g => g.trim());\n    const filteredWeeklyTodoGoals = weeklyTodoGoals.filter(g => g.trim());\n    const filteredWeeklyAchievementGoals = weeklyAchievementGoals.filter(g => g.trim());\n    const filteredWeeklyActivityGoals = weeklyActivityGoals.filter(g => g.trim());\n    \n    if (filteredWeeklyWeightGoals.length === 0 && filteredWeeklyTodoGoals.length === 0 && \n        filteredWeeklyAchievementGoals.length === 0 && filteredWeeklyActivityGoals.length === 0) {\n      alert('少なくとも1つの目標を入力してください');\n      return;\n    }\n\n    try {\n      if (currentWeekGoal) {\n        await updateWeeklyGoalMutation.mutateAsync({\n          id: currentWeekGoal.id,\n          weightGoals: filteredWeeklyWeightGoals.length > 0 ? filteredWeeklyWeightGoals : undefined,\n          todoGoals: filteredWeeklyTodoGoals.length > 0 ? filteredWeeklyTodoGoals : undefined,\n          achievementGoals: filteredWeeklyAchievementGoals.length > 0 ? filteredWeeklyAchievementGoals : undefined,\n          activityGoals: filteredWeeklyActivityGoals.length > 0 ? filteredWeeklyActivityGoals : undefined,\n          weightGoalsCompleted: currentWeekGoal.weightGoalsCompleted,\n          todoGoalsCompleted: currentWeekGoal.todoGoalsCompleted,\n          achievementGoalsCompleted: currentWeekGoal.achievementGoalsCompleted,\n          activityGoalsCompleted: currentWeekGoal.activityGoalsCompleted,\n        });\n      } else {\n        await createWeeklyGoalMutation.mutateAsync({\n          week: currentWeek,\n          weightGoals: filteredWeeklyWeightGoals.length > 0 ? filteredWeeklyWeightGoals : undefined,\n          todoGoals: filteredWeeklyTodoGoals.length > 0 ? filteredWeeklyTodoGoals : undefined,\n          achievementGoals: filteredWeeklyAchievementGoals.length > 0 ? filteredWeeklyAchievementGoals : undefined,\n          activityGoals: filteredWeeklyActivityGoals.length > 0 ? filteredWeeklyActivityGoals : undefined,\n        });\n      }\n      setIsWeeklyGoalEditing(false);\n    } catch (error) {\n      console.error('Failed to save weekly goal:', error);\n      alert('保存に失敗しました');\n    }\n  };\n\n  const handleToggleWeeklyGoalCompletion = async (\n    category: 'weight' | 'todo' | 'achievement' | 'activity',\n    index: number\n  ) => {\n    const currentWeek = getWeekNumber(new Date());\n    const currentWeekGoal = weeklyGoals.find(g => g.week === currentWeek);\n    \n    if (!currentWeekGoal) return;\n\n    // Map category to completion field\n    const completionFieldMap = {\n      weight: 'weightGoalsCompleted',\n      todo: 'todoGoalsCompleted',\n      achievement: 'achievementGoalsCompleted',\n      activity: 'activityGoalsCompleted',\n    } as const;\n\n    // Map category to goals field to get array length\n    const goalsFieldMap = {\n      weight: 'weightGoals',\n      todo: 'todoGoals',\n      achievement: 'achievementGoals',\n      activity: 'activityGoals',\n    } as const;\n\n    const completionField = completionFieldMap[category];\n    const goalsField = goalsFieldMap[category];\n    const goalsList = currentWeekGoal[goalsField] || [];\n    \n    // Clone and normalize the completion array\n    const currentCompleted = currentWeekGoal[completionField] || [];\n    const normalizedCompleted = Array(goalsList.length).fill(false).map((_, i) => currentCompleted[i] || false);\n    \n    // Toggle the target index\n    normalizedCompleted[index] = !normalizedCompleted[index];\n\n    try {\n      await updateWeeklyGoalMutation.mutateAsync({\n        id: currentWeekGoal.id,\n        [completionField]: normalizedCompleted,\n      });\n    } catch (error) {\n      console.error('Failed to toggle weekly goal completion:', error);\n    }\n  };\n\n  const renderDailyRoutineScreen = () => {\n    const today = new Date().toISOString().split('T')[0];\n    const todayRoutine = dailyRoutines.find(r => r.date === today);\n\n    return (\n      <div className=\"page p-4\">\n        <header className=\"flex items-center mb-6\">\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100\"\n            onClick={() => showScreen('tasks-screen')}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          <h2 className=\"text-xl font-bold mx-auto pr-8\">日課</h2>\n        </header>\n        <div className=\"px-4 space-y-6\">\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"font-bold text-lg\">今日の日課</h3>\n              {!isRoutineEditing && todayRoutine && (\n                <button\n                  onClick={() => setIsRoutineEditing(true)}\n                  className=\"px-3 py-1 text-sm bg-theme-500 text-white rounded-full hover:bg-theme-600\"\n                  data-testid=\"button-edit-routine\"\n                >\n                  編集\n                </button>\n              )}\n            </div>\n            <div className=\"mb-2 text-sm text-gray-500\">{today}</div>\n            {isRoutineEditing ? (\n              <>\n                <textarea\n                  value={routineContent}\n                  onChange={(e) => setRoutineContent(e.target.value)}\n                  className=\"w-full p-3 border rounded-lg mb-4 min-h-[200px]\"\n                  placeholder=\"今日の日課を書いてください...\"\n                  data-testid=\"textarea-routine-content\"\n                />\n                <button\n                  onClick={handleSaveDailyRoutine}\n                  className=\"w-full py-3 bg-theme-500 text-white rounded-full font-semibold hover:bg-theme-600\"\n                  data-testid=\"button-save-routine\"\n                >\n                  保存\n                </button>\n              </>\n            ) : (\n              <div className=\"p-3 border rounded-lg bg-gray-50\" data-testid=\"text-routine-content\">\n                {todayRoutine?.content || '今日の日課はまだ記録されていません'}\n              </div>\n            )}\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"font-bold text-lg mb-4\">過去の日課</h3>\n            <div className=\"space-y-3\">\n              {dailyRoutines\n                .filter(r => r.date !== today)\n                .sort((a, b) => b.date.localeCompare(a.date))\n                .slice(0, 5)\n                .map(routine => (\n                  <div key={routine.id} className=\"p-3 border rounded-lg\">\n                    <div className=\"text-sm text-gray-500 mb-1\">{routine.date}</div>\n                    <div className=\"text-sm\">{routine.content}</div>\n                  </div>\n                ))}\n              {dailyRoutines.filter(r => r.date !== today).length === 0 && (\n                <div className=\"text-center text-gray-500 py-4\">過去の記録はありません</div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderGoalListEditor = (\n    title: string,\n    emoji: string,\n    goals: string[],\n    setGoals: React.Dispatch<React.SetStateAction<string[]>>,\n    placeholder: string,\n    testId: string\n  ) => (\n    <div>\n      <label className=\"block text-sm font-medium text-gray-700 mb-2\">{emoji} {title}</label>\n      <div className=\"space-y-2\">\n        {goals.map((goal, index) => (\n          <div key={index} className=\"flex gap-2\">\n            <input\n              type=\"text\"\n              value={goal}\n              onChange={(e) => {\n                const newGoals = [...goals];\n                newGoals[index] = e.target.value;\n                setGoals(newGoals);\n              }}\n              className=\"flex-1 p-2 border rounded-lg text-sm\"\n              placeholder={placeholder}\n              data-testid={`${testId}-${index}`}\n            />\n            <button\n              onClick={() => setGoals(goals.filter((_, i) => i !== index))}\n              className=\"px-3 py-2 text-red-500 hover:bg-red-50 rounded-lg\"\n              data-testid={`${testId}-remove-${index}`}\n            >\n              <X size={16} />\n            </button>\n          </div>\n        ))}\n        <button\n          onClick={() => setGoals([...goals, ''])}\n          className=\"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm text-gray-500 hover:border-theme-500 hover:text-theme-500\"\n          data-testid={`${testId}-add`}\n        >\n          + 項目を追加\n        </button>\n      </div>\n    </div>\n  );\n\n  const renderMonthlyGoalScreen = () => {\n    const currentMonth = new Date().toISOString().slice(0, 7);\n    const currentMonthGoal = monthlyGoals.find(g => g.month === currentMonth);\n    const monthName = new Date().toLocaleDateString('ja-JP', { year: 'numeric', month: 'long' });\n\n    return (\n      <div className=\"page p-4\">\n        <header className=\"flex items-center mb-6\">\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100\"\n            onClick={() => {\n              setShowGoalSetupScreen(false);\n              showScreen('tasks-screen');\n            }}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          <h2 className=\"text-xl font-bold mx-auto pr-8\">月間目標</h2>\n        </header>\n        <div className=\"px-4 space-y-6\">\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"font-bold text-lg\">{monthName}の目標</h3>\n              {!isMonthlyGoalEditing && currentMonthGoal && (\n                <button\n                  onClick={() => setIsMonthlyGoalEditing(true)}\n                  className=\"px-3 py-1 text-sm bg-theme-500 text-white rounded-full hover:bg-theme-600\"\n                  data-testid=\"button-edit-goal\"\n                >\n                  編集\n                </button>\n              )}\n            </div>\n            {isMonthlyGoalEditing ? (\n              <div className=\"space-y-4\">\n                {renderGoalListEditor('体重目標', '💪', weightGoals, setWeightGoals, '例: 65kgを達成する', 'input-weight-goal')}\n                {renderGoalListEditor('やるべきこと', '📝', todoGoals, setTodoGoals, '例: 毎日30分運動する', 'input-todo-goal')}\n                {renderGoalListEditor('達成したい目標', '🎯', achievementGoals, setAchievementGoals, '例: 資格試験に合格する', 'input-achievement-goal')}\n                {renderGoalListEditor('部活動や仕事などでの目標', '⚡', activityGoals, setActivityGoals, '例: チームで優勝する', 'input-activity-goal')}\n                <button\n                  onClick={handleSaveMonthlyGoal}\n                  className=\"w-full py-3 bg-theme-500 text-white rounded-full font-semibold hover:bg-theme-600\"\n                  data-testid=\"button-save-goal\"\n                >\n                  保存\n                </button>\n              </div>\n            ) : (\n              <div className=\"space-y-3\" data-testid=\"text-goal-content\">\n                {currentMonthGoal && (currentMonthGoal.weightGoals?.length || currentMonthGoal.todoGoals?.length || currentMonthGoal.achievementGoals?.length || currentMonthGoal.activityGoals?.length) ? (\n                  <>\n                    {currentMonthGoal.weightGoals && currentMonthGoal.weightGoals.length > 0 && (\n                      <div className=\"p-3 border rounded-lg bg-gray-50\">\n                        <div className=\"text-sm font-medium text-gray-700 mb-2\">💪 体重目標</div>\n                        <ul className=\"space-y-2\">\n                          {currentMonthGoal.weightGoals.map((goal, index) => (\n                            <li key={index} className=\"flex items-start gap-2\">\n                              <Checkbox\n                                checked={currentMonthGoal.weightGoalsCompleted?.[index] || false}\n                                onCheckedChange={() => handleToggleGoalCompletion('weight', index)}\n                                className=\"mt-0.5\"\n                                data-testid={`checkbox-weight-${index}`}\n                              />\n                              <span className={`text-sm flex-1 ${currentMonthGoal.weightGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                                {goal}\n                              </span>\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                    {currentMonthGoal.todoGoals && currentMonthGoal.todoGoals.length > 0 && (\n                      <div className=\"p-3 border rounded-lg bg-gray-50\">\n                        <div className=\"text-sm font-medium text-gray-700 mb-2\">📝 やるべきこと</div>\n                        <ul className=\"space-y-2\">\n                          {currentMonthGoal.todoGoals.map((goal, index) => (\n                            <li key={index} className=\"flex items-start gap-2\">\n                              <Checkbox\n                                checked={currentMonthGoal.todoGoalsCompleted?.[index] || false}\n                                onCheckedChange={() => handleToggleGoalCompletion('todo', index)}\n                                className=\"mt-0.5\"\n                                data-testid={`checkbox-todo-${index}`}\n                              />\n                              <span className={`text-sm flex-1 ${currentMonthGoal.todoGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                                {goal}\n                              </span>\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                    {currentMonthGoal.achievementGoals && currentMonthGoal.achievementGoals.length > 0 && (\n                      <div className=\"p-3 border rounded-lg bg-gray-50\">\n                        <div className=\"text-sm font-medium text-gray-700 mb-2\">🎯 達成したい目標</div>\n                        <ul className=\"space-y-2\">\n                          {currentMonthGoal.achievementGoals.map((goal, index) => (\n                            <li key={index} className=\"flex items-start gap-2\">\n                              <Checkbox\n                                checked={currentMonthGoal.achievementGoalsCompleted?.[index] || false}\n                                onCheckedChange={() => handleToggleGoalCompletion('achievement', index)}\n                                className=\"mt-0.5\"\n                                data-testid={`checkbox-achievement-${index}`}\n                              />\n                              <span className={`text-sm flex-1 ${currentMonthGoal.achievementGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                                {goal}\n                              </span>\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                    {currentMonthGoal.activityGoals && currentMonthGoal.activityGoals.length > 0 && (\n                      <div className=\"p-3 border rounded-lg bg-gray-50\">\n                        <div className=\"text-sm font-medium text-gray-700 mb-2\">⚡ 部活動や仕事などでの目標</div>\n                        <ul className=\"space-y-2\">\n                          {currentMonthGoal.activityGoals.map((goal, index) => (\n                            <li key={index} className=\"flex items-start gap-2\">\n                              <Checkbox\n                                checked={currentMonthGoal.activityGoalsCompleted?.[index] || false}\n                                onCheckedChange={() => handleToggleGoalCompletion('activity', index)}\n                                className=\"mt-0.5\"\n                                data-testid={`checkbox-activity-${index}`}\n                              />\n                              <span className={`text-sm flex-1 ${currentMonthGoal.activityGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                                {goal}\n                              </span>\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                  </>\n                ) : (\n                  <div className=\"p-3 border rounded-lg bg-gray-50 text-center text-gray-500\">\n                    今月の目標はまだ設定されていません\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"font-bold text-lg mb-4\">過去の月間目標</h3>\n            <div className=\"space-y-3\">\n              {monthlyGoals\n                .filter(g => g.month !== currentMonth)\n                .sort((a, b) => b.month.localeCompare(a.month))\n                .slice(0, 5)\n                .map(goal => {\n                  const date = new Date(goal.month + '-01');\n                  const monthLabel = date.toLocaleDateString('ja-JP', { year: 'numeric', month: 'long' });\n                  return (\n                    <div key={goal.id} className=\"p-3 border rounded-lg\">\n                      <div className=\"text-sm text-gray-500 mb-2\">{monthLabel}</div>\n                      <div className=\"space-y-2 text-sm\">\n                        {goal.weightGoals && goal.weightGoals.length > 0 && (\n                          <div>\n                            <div className=\"font-medium mb-1\">💪 体重目標</div>\n                            <ul className=\"ml-4 space-y-1\">\n                              {goal.weightGoals.map((g, i) => (\n                                <li key={i} className={goal.weightGoalsCompleted?.[i] ? 'line-through text-gray-400' : ''}>\n                                  • {g} {goal.weightGoalsCompleted?.[i] && '✓'}\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                        {goal.todoGoals && goal.todoGoals.length > 0 && (\n                          <div>\n                            <div className=\"font-medium mb-1\">📝 やるべきこと</div>\n                            <ul className=\"ml-4 space-y-1\">\n                              {goal.todoGoals.map((g, i) => (\n                                <li key={i} className={goal.todoGoalsCompleted?.[i] ? 'line-through text-gray-400' : ''}>\n                                  • {g} {goal.todoGoalsCompleted?.[i] && '✓'}\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                        {goal.achievementGoals && goal.achievementGoals.length > 0 && (\n                          <div>\n                            <div className=\"font-medium mb-1\">🎯 達成したい目標</div>\n                            <ul className=\"ml-4 space-y-1\">\n                              {goal.achievementGoals.map((g, i) => (\n                                <li key={i} className={goal.achievementGoalsCompleted?.[i] ? 'line-through text-gray-400' : ''}>\n                                  • {g} {goal.achievementGoalsCompleted?.[i] && '✓'}\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                        {goal.activityGoals && goal.activityGoals.length > 0 && (\n                          <div>\n                            <div className=\"font-medium mb-1\">⚡ 部活動や仕事などでの目標</div>\n                            <ul className=\"ml-4 space-y-1\">\n                              {goal.activityGoals.map((g, i) => (\n                                <li key={i} className={goal.activityGoalsCompleted?.[i] ? 'line-through text-gray-400' : ''}>\n                                  • {g} {goal.activityGoalsCompleted?.[i] && '✓'}\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              {monthlyGoals.filter(g => g.month !== currentMonth).length === 0 && (\n                <div className=\"text-center text-gray-500 py-4\">過去の記録はありません</div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderWeeklyGoalScreen = () => {\n    const currentWeek = getWeekNumber(new Date());\n    const currentWeekGoal = weeklyGoals.find(g => g.week === currentWeek);\n    \n    // Calculate week date range for display\n    const today = new Date();\n    const dayOfWeek = (today.getDay() + 6) % 7; // Monday = 0\n    const monday = new Date(today);\n    monday.setDate(today.getDate() - dayOfWeek);\n    const sunday = new Date(monday);\n    sunday.setDate(monday.getDate() + 6);\n    const weekLabel = `${monday.getMonth() + 1}/${monday.getDate()} - ${sunday.getMonth() + 1}/${sunday.getDate()}`;\n\n    return (\n      <div className=\"page p-4\">\n        <header className=\"flex items-center mb-6\">\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100\"\n            onClick={() => showScreen('tasks-screen')}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          <h2 className=\"text-xl font-bold mx-auto pr-8\">週間目標</h2>\n        </header>\n        <div className=\"px-4 space-y-6\">\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"font-bold text-lg\">今週の目標 ({weekLabel})</h3>\n              {!isWeeklyGoalEditing && currentWeekGoal && (\n                <button\n                  onClick={() => {\n                    setWeeklyWeightGoals(currentWeekGoal.weightGoals || []);\n                    setWeeklyTodoGoals(currentWeekGoal.todoGoals || []);\n                    setWeeklyAchievementGoals(currentWeekGoal.achievementGoals || []);\n                    setWeeklyActivityGoals(currentWeekGoal.activityGoals || []);\n                    setIsWeeklyGoalEditing(true);\n                  }}\n                  className=\"px-3 py-1 text-sm bg-theme-500 text-white rounded-full hover:bg-theme-600\"\n                  data-testid=\"button-edit-weekly-goal\"\n                >\n                  編集\n                </button>\n              )}\n            </div>\n            {isWeeklyGoalEditing ? (\n              <div className=\"space-y-4\">\n                {renderGoalListEditor('体重目標', '💪', weeklyWeightGoals, setWeeklyWeightGoals, '例: 今週1kg減量', 'input-weekly-weight-goal')}\n                {renderGoalListEditor('やるべきこと', '📝', weeklyTodoGoals, setWeeklyTodoGoals, '例: 毎日運動する', 'input-weekly-todo-goal')}\n                {renderGoalListEditor('達成したい目標', '🎯', weeklyAchievementGoals, setWeeklyAchievementGoals, '例: プロジェクトを完成させる', 'input-weekly-achievement-goal')}\n                {renderGoalListEditor('部活動や仕事などでの目標', '⚡', weeklyActivityGoals, setWeeklyActivityGoals, '例: 練習に全力で取り組む', 'input-weekly-activity-goal')}\n                <button\n                  onClick={handleSaveWeeklyGoal}\n                  className=\"w-full py-3 bg-theme-500 text-white rounded-full font-semibold hover:bg-theme-600\"\n                  data-testid=\"button-save-weekly-goal\"\n                >\n                  保存\n                </button>\n              </div>\n            ) : currentWeekGoal && (currentWeekGoal.weightGoals?.length || currentWeekGoal.todoGoals?.length || currentWeekGoal.achievementGoals?.length || currentWeekGoal.activityGoals?.length) ? (\n              <div className=\"space-y-3\" data-testid=\"text-weekly-goal-content\">\n                {currentWeekGoal.weightGoals && currentWeekGoal.weightGoals.length > 0 && (\n                  <div className=\"p-3 border rounded-lg bg-gray-50\">\n                    <div className=\"text-sm font-medium text-gray-700 mb-2\">💪 体重目標</div>\n                    <ul className=\"space-y-2\">\n                      {currentWeekGoal.weightGoals.map((goal, index) => (\n                        <li key={index} className=\"flex items-start gap-2\">\n                          <Checkbox\n                            checked={currentWeekGoal.weightGoalsCompleted?.[index] || false}\n                            onCheckedChange={() => handleToggleWeeklyGoalCompletion('weight', index)}\n                            className=\"mt-0.5\"\n                            data-testid={`checkbox-weekly-weight-${index}`}\n                          />\n                          <span className={`text-sm flex-1 ${currentWeekGoal.weightGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                            {goal}\n                          </span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n                {currentWeekGoal.todoGoals && currentWeekGoal.todoGoals.length > 0 && (\n                  <div className=\"p-3 border rounded-lg bg-gray-50\">\n                    <div className=\"text-sm font-medium text-gray-700 mb-2\">📝 やるべきこと</div>\n                    <ul className=\"space-y-2\">\n                      {currentWeekGoal.todoGoals.map((goal, index) => (\n                        <li key={index} className=\"flex items-start gap-2\">\n                          <Checkbox\n                            checked={currentWeekGoal.todoGoalsCompleted?.[index] || false}\n                            onCheckedChange={() => handleToggleWeeklyGoalCompletion('todo', index)}\n                            className=\"mt-0.5\"\n                            data-testid={`checkbox-weekly-todo-${index}`}\n                          />\n                          <span className={`text-sm flex-1 ${currentWeekGoal.todoGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                            {goal}\n                          </span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n                {currentWeekGoal.achievementGoals && currentWeekGoal.achievementGoals.length > 0 && (\n                  <div className=\"p-3 border rounded-lg bg-gray-50\">\n                    <div className=\"text-sm font-medium text-gray-700 mb-2\">🎯 達成したい目標</div>\n                    <ul className=\"space-y-2\">\n                      {currentWeekGoal.achievementGoals.map((goal, index) => (\n                        <li key={index} className=\"flex items-start gap-2\">\n                          <Checkbox\n                            checked={currentWeekGoal.achievementGoalsCompleted?.[index] || false}\n                            onCheckedChange={() => handleToggleWeeklyGoalCompletion('achievement', index)}\n                            className=\"mt-0.5\"\n                            data-testid={`checkbox-weekly-achievement-${index}`}\n                          />\n                          <span className={`text-sm flex-1 ${currentWeekGoal.achievementGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                            {goal}\n                          </span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n                {currentWeekGoal.activityGoals && currentWeekGoal.activityGoals.length > 0 && (\n                  <div className=\"p-3 border rounded-lg bg-gray-50\">\n                    <div className=\"text-sm font-medium text-gray-700 mb-2\">⚡ 部活動や仕事などでの目標</div>\n                    <ul className=\"space-y-2\">\n                      {currentWeekGoal.activityGoals.map((goal, index) => (\n                        <li key={index} className=\"flex items-start gap-2\">\n                          <Checkbox\n                            checked={currentWeekGoal.activityGoalsCompleted?.[index] || false}\n                            onCheckedChange={() => handleToggleWeeklyGoalCompletion('activity', index)}\n                            className=\"mt-0.5\"\n                            data-testid={`checkbox-weekly-activity-${index}`}\n                          />\n                          <span className={`text-sm flex-1 ${currentWeekGoal.activityGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                            {goal}\n                          </span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div>\n                <div className=\"p-3 border rounded-lg bg-gray-50 text-center text-gray-500 mb-4\">\n                  今週の目標はまだ設定されていません\n                </div>\n                <button\n                  onClick={() => {\n                    setWeeklyWeightGoals([]);\n                    setWeeklyTodoGoals([]);\n                    setWeeklyAchievementGoals([]);\n                    setWeeklyActivityGoals([]);\n                    setIsWeeklyGoalEditing(true);\n                  }}\n                  className=\"w-full bg-theme-500 text-white py-3 rounded-lg font-medium hover:bg-theme-600\"\n                  data-testid=\"button-add-weekly-goal\"\n                >\n                  目標を設定する\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderWeeklyReviewScreen = () => {\n    const { weekStart, weekEnd } = getWeekStartEnd(weekOffset);\n    const weekStartStr = weekStart.toISOString().split('T')[0];\n    const weekEndStr = weekEnd.toISOString().split('T')[0];\n    \n    // Get current month and goal\n    const currentMonth = new Date().toISOString().slice(0, 7);\n    const currentMonthGoal = monthlyGoals.find(g => g.month === currentMonth);\n    \n    // Filter data for the current week\n    const weekTodos = todos.filter(t => {\n      const createdDate = new Date(t.createdAt);\n      return createdDate >= weekStart && createdDate <= weekEnd && t.completed;\n    });\n    \n    const weekWeightRecords = weightRecords.filter(r => r.date >= weekStartStr && r.date <= weekEndStr);\n    const weekMealRecords = mealRecords.filter(r => r.date >= weekStartStr && r.date <= weekEndStr);\n    const weekDiaryEntries = diaryEntries.filter(d => d.date >= weekStartStr && d.date <= weekEndStr);\n    \n    // Calculate averages\n    const avgWeight = weekWeightRecords.length > 0\n      ? weekWeightRecords.reduce((sum, r) => sum + r.weight, 0) / weekWeightRecords.length\n      : 0;\n    \n    const weightChange = weekWeightRecords.length >= 2\n      ? weekWeightRecords[weekWeightRecords.length - 1].weight - weekWeightRecords[0].weight\n      : 0;\n    \n    const weekLabel = weekOffset === 0 ? '今週' : weekOffset === -1 ? '先週' : '来週';\n    const weekDateRange = `${weekStart.getMonth() + 1}/${weekStart.getDate()} - ${weekEnd.getMonth() + 1}/${weekEnd.getDate()}`;\n\n    return (\n      <div className=\"page p-4\">\n        <header className=\"flex items-center mb-6\">\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100\"\n            onClick={() => showScreen('tasks-screen')}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          <h2 className=\"text-xl font-bold mx-auto pr-8\">週次振り返り</h2>\n        </header>\n        \n        <div className=\"px-4 space-y-6\">\n          {/* Week Navigation */}\n          <div className=\"flex items-center justify-between bg-white rounded-lg shadow p-4\">\n            <button\n              onClick={() => setWeekOffset(weekOffset - 1)}\n              className=\"p-2 hover:bg-gray-100 rounded-full\"\n              data-testid=\"button-prev-week\"\n            >\n              <ArrowLeft size={20} />\n            </button>\n            <div className=\"text-center\">\n              <div className=\"font-bold text-lg\" data-testid=\"text-week-label\">{weekLabel}</div>\n              <div className=\"text-sm text-gray-500\">{weekDateRange}</div>\n            </div>\n            <button\n              onClick={() => setWeekOffset(weekOffset + 1)}\n              className=\"p-2 hover:bg-gray-100 rounded-full\"\n              data-testid=\"button-next-week\"\n            >\n              <ArrowLeft size={20} className=\"rotate-180\" />\n            </button>\n          </div>\n\n          {/* Weekly Summary Cards */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"bg-white rounded-lg shadow p-4 text-center\" data-testid=\"card-completed-tasks\">\n              <div className=\"text-3xl font-bold text-theme-500\">{weekTodos.length}</div>\n              <div className=\"text-sm text-gray-500 mt-1\">達成タスク</div>\n            </div>\n            <div className=\"bg-white rounded-lg shadow p-4 text-center\" data-testid=\"card-avg-weight\">\n              <div className=\"text-3xl font-bold text-theme-500\">{avgWeight > 0 ? avgWeight.toFixed(1) : '-'}</div>\n              <div className=\"text-sm text-gray-500 mt-1\">平均体重 (kg)</div>\n              {weekWeightRecords.length >= 2 && (\n                <div className={`text-xs mt-1 ${weightChange > 0 ? 'text-red-500' : weightChange < 0 ? 'text-green-500' : 'text-gray-500'}`} data-testid=\"text-weight-change\">\n                  {weightChange > 0 ? '+' : ''}{weightChange.toFixed(1)} kg\n                </div>\n              )}\n            </div>\n            <div className=\"bg-white rounded-lg shadow p-4 text-center\" data-testid=\"card-diary-count\">\n              <div className=\"text-3xl font-bold text-theme-500\">{weekDiaryEntries.length}</div>\n              <div className=\"text-sm text-gray-500 mt-1\">メモ記録</div>\n            </div>\n          </div>\n\n          {/* Record Details */}\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"font-bold text-lg mb-4\">週間記録の詳細</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between items-center p-3 bg-gray-50 rounded-lg\">\n                <span className=\"text-gray-700\">体重記録</span>\n                <span className=\"font-semibold\">{weekWeightRecords.length}件</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-gray-50 rounded-lg\">\n                <span className=\"text-gray-700\">食事記録</span>\n                <span className=\"font-semibold\">{weekMealRecords.length}件</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Monthly Goals Section */}\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"font-bold text-lg\">月間目標</h3>\n              {!isMonthlyGoalEditing && currentMonthGoal && (\n                <button\n                  onClick={() => {\n                    setWeightGoals(currentMonthGoal.weightGoals || []);\n                    setTodoGoals(currentMonthGoal.todoGoals || []);\n                    setAchievementGoals(currentMonthGoal.achievementGoals || []);\n                    setActivityGoals(currentMonthGoal.activityGoals || []);\n                    setIsMonthlyGoalEditing(true);\n                  }}\n                  className=\"text-sm text-theme-600 hover:text-theme-700\"\n                  data-testid=\"button-edit-monthly-goal\"\n                >\n                  編集\n                </button>\n              )}\n            </div>\n\n            {isMonthlyGoalEditing ? (\n              <div className=\"space-y-4\">\n                {renderGoalListEditor('体重目標', '💪', weightGoals, setWeightGoals, '例: 65kgを達成する', 'input-weight-goal-review')}\n                {renderGoalListEditor('やるべきこと', '📝', todoGoals, setTodoGoals, '例: 毎日30分運動する', 'input-todo-goal-review')}\n                {renderGoalListEditor('達成したい目標', '🎯', achievementGoals, setAchievementGoals, '例: 資格試験に合格する', 'input-achievement-goal-review')}\n                {renderGoalListEditor('部活動や仕事などでの目標', '⚡', activityGoals, setActivityGoals, '例: チームで優勝する', 'input-activity-goal-review')}\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={handleSaveMonthlyGoal}\n                    className=\"flex-1 bg-theme-500 text-white py-3 rounded-lg font-medium hover:bg-theme-600\"\n                    data-testid=\"button-save-monthly-goal-review\"\n                  >\n                    保存\n                  </button>\n                  <button\n                    onClick={() => {\n                      setIsMonthlyGoalEditing(false);\n                      setWeightGoals(currentMonthGoal?.weightGoals || []);\n                      setTodoGoals(currentMonthGoal?.todoGoals || []);\n                      setAchievementGoals(currentMonthGoal?.achievementGoals || []);\n                      setActivityGoals(currentMonthGoal?.activityGoals || []);\n                    }}\n                    className=\"flex-1 bg-gray-200 py-3 rounded-lg font-medium hover:bg-gray-300\"\n                    data-testid=\"button-cancel-monthly-goal-review\"\n                  >\n                    キャンセル\n                  </button>\n                </div>\n              </div>\n            ) : currentMonthGoal && (currentMonthGoal.weightGoals?.length || currentMonthGoal.todoGoals?.length || currentMonthGoal.achievementGoals?.length || currentMonthGoal.activityGoals?.length) ? (\n              <div className=\"space-y-3\">\n                {currentMonthGoal.weightGoals && currentMonthGoal.weightGoals.length > 0 && (\n                  <div className=\"p-3 border rounded-lg bg-gray-50\">\n                    <div className=\"text-sm font-medium text-gray-700 mb-2\">💪 体重目標</div>\n                    <ul className=\"space-y-2\">\n                      {currentMonthGoal.weightGoals.map((goal, index) => (\n                        <li key={index} className=\"flex items-start gap-2\">\n                          <Checkbox\n                            checked={currentMonthGoal.weightGoalsCompleted?.[index] || false}\n                            onCheckedChange={() => handleToggleGoalCompletion('weight', index)}\n                            className=\"mt-0.5\"\n                            data-testid={`checkbox-weight-review-${index}`}\n                          />\n                          <span className={`text-sm flex-1 ${currentMonthGoal.weightGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                            {goal}\n                          </span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n                {currentMonthGoal.todoGoals && currentMonthGoal.todoGoals.length > 0 && (\n                  <div className=\"p-3 border rounded-lg bg-gray-50\">\n                    <div className=\"text-sm font-medium text-gray-700 mb-2\">📝 やるべきこと</div>\n                    <ul className=\"space-y-2\">\n                      {currentMonthGoal.todoGoals.map((goal, index) => (\n                        <li key={index} className=\"flex items-start gap-2\">\n                          <Checkbox\n                            checked={currentMonthGoal.todoGoalsCompleted?.[index] || false}\n                            onCheckedChange={() => handleToggleGoalCompletion('todo', index)}\n                            className=\"mt-0.5\"\n                            data-testid={`checkbox-todo-review-${index}`}\n                          />\n                          <span className={`text-sm flex-1 ${currentMonthGoal.todoGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                            {goal}\n                          </span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n                {currentMonthGoal.achievementGoals && currentMonthGoal.achievementGoals.length > 0 && (\n                  <div className=\"p-3 border rounded-lg bg-gray-50\">\n                    <div className=\"text-sm font-medium text-gray-700 mb-2\">🎯 達成したい目標</div>\n                    <ul className=\"space-y-2\">\n                      {currentMonthGoal.achievementGoals.map((goal, index) => (\n                        <li key={index} className=\"flex items-start gap-2\">\n                          <Checkbox\n                            checked={currentMonthGoal.achievementGoalsCompleted?.[index] || false}\n                            onCheckedChange={() => handleToggleGoalCompletion('achievement', index)}\n                            className=\"mt-0.5\"\n                            data-testid={`checkbox-achievement-review-${index}`}\n                          />\n                          <span className={`text-sm flex-1 ${currentMonthGoal.achievementGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                            {goal}\n                          </span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n                {currentMonthGoal.activityGoals && currentMonthGoal.activityGoals.length > 0 && (\n                  <div className=\"p-3 border rounded-lg bg-gray-50\">\n                    <div className=\"text-sm font-medium text-gray-700 mb-2\">⚡ 部活動や仕事などでの目標</div>\n                    <ul className=\"space-y-2\">\n                      {currentMonthGoal.activityGoals.map((goal, index) => (\n                        <li key={index} className=\"flex items-start gap-2\">\n                          <Checkbox\n                            checked={currentMonthGoal.activityGoalsCompleted?.[index] || false}\n                            onCheckedChange={() => handleToggleGoalCompletion('activity', index)}\n                            className=\"mt-0.5\"\n                            data-testid={`checkbox-activity-review-${index}`}\n                          />\n                          <span className={`text-sm flex-1 ${currentMonthGoal.activityGoalsCompleted?.[index] ? 'line-through text-gray-400' : ''}`}>\n                            {goal}\n                          </span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div>\n                <p className=\"text-gray-500 text-center py-4 mb-4\">今月の目標が設定されていません</p>\n                <button\n                  onClick={() => {\n                    setWeightGoals([]);\n                    setTodoGoals([]);\n                    setAchievementGoals([]);\n                    setActivityGoals([]);\n                    setIsMonthlyGoalEditing(true);\n                  }}\n                  className=\"w-full bg-theme-500 text-white py-3 rounded-lg font-medium hover:bg-theme-600\"\n                  data-testid=\"button-add-monthly-goal-review\"\n                >\n                  目標を設定する\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Past Monthly Goals */}\n          {monthlyGoals.filter(g => g.month !== currentMonth).length > 0 && (\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"font-bold text-lg mb-4\">過去の月間目標</h3>\n              <div className=\"space-y-3\">\n                {monthlyGoals\n                  .filter(g => g.month !== currentMonth)\n                  .sort((a, b) => b.month.localeCompare(a.month))\n                  .map((goal) => (\n                    <div key={goal.id} className=\"border-b pb-3 last:border-b-0\" data-testid={`past-goal-${goal.month}`}>\n                      <div className=\"font-medium text-gray-700 mb-2\">{goal.month}</div>\n                      <div className=\"space-y-2 text-sm\">\n                        {goal.weightGoals && goal.weightGoals.length > 0 && (\n                          <div>\n                            <div className=\"font-medium mb-1\">💪 体重目標</div>\n                            <ul className=\"ml-4 space-y-1\">\n                              {goal.weightGoals.map((g, i) => (\n                                <li key={i} className={goal.weightGoalsCompleted?.[i] ? 'line-through text-gray-400' : ''}>\n                                  • {g} {goal.weightGoalsCompleted?.[i] && '✓'}\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                        {goal.todoGoals && goal.todoGoals.length > 0 && (\n                          <div>\n                            <div className=\"font-medium mb-1\">📝 やるべきこと</div>\n                            <ul className=\"ml-4 space-y-1\">\n                              {goal.todoGoals.map((g, i) => (\n                                <li key={i} className={goal.todoGoalsCompleted?.[i] ? 'line-through text-gray-400' : ''}>\n                                  • {g} {goal.todoGoalsCompleted?.[i] && '✓'}\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                        {goal.achievementGoals && goal.achievementGoals.length > 0 && (\n                          <div>\n                            <div className=\"font-medium mb-1\">🎯 達成したい目標</div>\n                            <ul className=\"ml-4 space-y-1\">\n                              {goal.achievementGoals.map((g, i) => (\n                                <li key={i} className={goal.achievementGoalsCompleted?.[i] ? 'line-through text-gray-400' : ''}>\n                                  • {g} {goal.achievementGoalsCompleted?.[i] && '✓'}\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                        {goal.activityGoals && goal.activityGoals.length > 0 && (\n                          <div>\n                            <div className=\"font-medium mb-1\">⚡ 部活動や仕事などでの目標</div>\n                            <ul className=\"ml-4 space-y-1\">\n                              {goal.activityGoals.map((g, i) => (\n                                <li key={i} className={goal.activityGoalsCompleted?.[i] ? 'line-through text-gray-400' : ''}>\n                                  • {g} {goal.activityGoalsCompleted?.[i] && '✓'}\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const renderWeekTrackerScreen = () => {\n    const { weekStart, weekEnd } = getWeekStartEnd(weekOffset);\n    const weekLabel = weekOffset === 0 ? '今週' : weekOffset === -1 ? '先週' : '来週';\n    const weekDateRange = `${weekStart.getMonth() + 1}/${weekStart.getDate()} - ${weekEnd.getMonth() + 1}/${weekEnd.getDate()}`;\n\n    // Generate array of days in the week\n    const weekDays = [];\n    for (let i = 0; i < 7; i++) {\n      const day = new Date(weekStart);\n      day.setDate(weekStart.getDate() + i);\n      weekDays.push(day);\n    }\n\n    return (\n      <div className=\"page p-4\">\n        <header className=\"flex items-center mb-6\">\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100\"\n            onClick={() => showScreen('tasks-screen')}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          <h2 className=\"text-xl font-bold mx-auto pr-8\">週間トラッカー</h2>\n        </header>\n        \n        <div className=\"px-4 space-y-6\">\n          {/* Week Navigation */}\n          <div className=\"flex items-center justify-between bg-white rounded-lg shadow p-4\">\n            <button\n              onClick={() => setWeekOffset(weekOffset - 1)}\n              className=\"p-2 hover:bg-gray-100 rounded-full\"\n              data-testid=\"button-prev-week-tracker\"\n            >\n              <ArrowLeft size={20} />\n            </button>\n            <div className=\"text-center\">\n              <div className=\"font-bold text-lg\" data-testid=\"text-week-tracker-label\">{weekLabel}</div>\n              <div className=\"text-sm text-gray-500\">{weekDateRange}</div>\n            </div>\n            <button\n              onClick={() => setWeekOffset(weekOffset + 1)}\n              className=\"p-2 hover:bg-gray-100 rounded-full\"\n              data-testid=\"button-next-week-tracker\"\n            >\n              <ArrowLeft size={20} className=\"rotate-180\" />\n            </button>\n          </div>\n\n          {/* Daily Progress Table */}\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"font-bold text-lg mb-4\">日ごとの記録</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm\" data-testid=\"table-daily-progress\">\n                <thead>\n                  <tr className=\"border-b\">\n                    <th className=\"py-2 text-left\">日付</th>\n                    <th className=\"py-2 text-center\">タスク</th>\n                    <th className=\"py-2 text-center\">体重</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {weekDays.map((day, index) => {\n                    const dayStr = day.toLocaleDateString('sv-SE');\n                    const dayTodos = todos.filter(t => {\n                      const createdDate = new Date(t.createdAt);\n                      return createdDate.toLocaleDateString('sv-SE') === dayStr && t.completed;\n                    });\n                    const dayWeight = weightRecords.find(r => r.date === dayStr);\n                    \n                    const weight = dayWeight ? dayWeight.weight.toFixed(1) : '-';\n                    \n                    const dayLabel = ['日', '月', '火', '水', '木', '金', '土'][day.getDay()];\n                    const isToday = day.toDateString() === new Date().toDateString();\n                    \n                    return (\n                      <tr \n                        key={index} \n                        className={`border-b ${isToday ? 'bg-theme-50' : ''}`}\n                        data-testid={`row-day-${index}`}\n                      >\n                        <td className=\"py-3\">\n                          <div className=\"font-medium\">{day.getMonth() + 1}/{day.getDate()}</div>\n                          <div className=\"text-xs text-gray-500\">{dayLabel}</div>\n                        </td>\n                        <td className=\"py-3 text-center\">\n                          <div className=\"font-semibold text-theme-500\">{dayTodos.length}</div>\n                        </td>\n                        <td className=\"py-3 text-center\">\n                          <div className={weight !== '-' ? 'font-semibold' : 'text-gray-400'}>{weight}kg</div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderMealDetailScreen = () => (\n    <div className=\"page p-4\">\n      <header className=\"flex items-center mb-6\">\n        <button \n          className=\"p-2 rounded-full hover:bg-gray-100\"\n          onClick={() => showScreen('home-screen')}\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft size={24} />\n        </button>\n        <h2 className=\"text-xl font-bold mx-auto pr-8\">食事記録</h2>\n      </header>\n      <div className=\"px-4 space-y-6\">\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"font-bold text-lg mb-4\">今日の食事記録</h3>\n          <div className=\"grid grid-cols-2 gap-4 mb-6\">\n            <div className=\"bg-gray-50 rounded-lg p-3 text-center\">\n              <div className=\"text-2xl font-bold text-theme-600\">1800</div>\n              <div className=\"text-sm text-gray-500\">カロリー</div>\n            </div>\n            <div className=\"bg-gray-50 rounded-lg p-3 text-center\">\n              <div className=\"text-2xl font-bold text-theme-600\">3</div>\n              <div className=\"text-sm text-gray-500\">食事回数</div>\n            </div>\n          </div>\n          <div className=\"space-y-3\">\n            {[\n              { meal: '朝食', items: [{ name: 'トースト', calories: 200 }] },\n              { meal: '昼食', items: [{ name: 'サンドイッチ', calories: 450 }] },\n              { meal: '夕食', items: [{ name: 'カレーライス', calories: 650 }] }\n            ].map(({ meal, items }) => (\n              <div key={meal}>\n                <h4 className=\"font-medium text-gray-700 mb-2\">{meal}</h4>\n                <div className=\"space-y-2 mb-3\">\n                  {items.map((item, index) => (\n                    <div key={index} className=\"flex justify-between items-center py-2 border-b\">\n                      <span>{item.name}</span>\n                      <span className=\"text-sm text-gray-500\">{item.calories}kcal</span>\n                    </div>\n                  ))}\n                </div>\n                <button \n                  className=\"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-theme-400 hover:text-theme-500\"\n                  data-testid={`button-add-${meal}`}\n                >\n                  + {meal}を追加\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderTasksScreen = () => (\n    <div className=\"page p-4 space-y-6\">\n      {/* Header */}\n      <header className=\"flex items-center mb-4\">\n        <button \n          className=\"p-2 rounded-full hover:bg-gray-100\"\n          onClick={() => showScreen('home-screen')}\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft size={24} />\n        </button>\n        <h1 className=\"text-2xl font-bold mx-auto pr-8\">タスク管理</h1>\n      </header>\n\n      {/* TODO List Section */}\n      <section>\n        <div className=\"flex justify-between items-center mb-3\">\n          <div \n            className=\"flex items-center cursor-pointer flex-grow\"\n            onClick={() => setTodoVisible(!todoVisible)}\n            data-testid=\"toggle-todo-visibility\"\n          >\n            <h2 className=\"text-xl font-bold\">TODOリスト</h2>\n            <button \n              className=\"ml-2 bg-theme-500 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-theme-600 transition-colors focus:outline-none focus:ring-2 focus:ring-theme-500 focus:ring-opacity-75\"\n              onClick={(e) => {\n                e.stopPropagation();\n                addTodo();\n              }}\n              data-testid=\"button-add-todo-tasks\"\n            >\n              <Plus size={20} strokeWidth={2.5} />\n            </button>\n            <ChevronDown \n              className={`transition-transform ml-auto ${todoVisible ? 'rotate-180' : ''}`}\n              size={24}\n            />\n          </div>\n        </div>\n        <div className={`${todoVisible ? '' : 'hidden'}`}>\n          {todosLoading ? (\n            <div className=\"text-center py-4 text-gray-500\">Loading todos...</div>\n          ) : (\n          <div className=\"space-y-2\">\n            {todos.map(todo => (\n              <div key={todo.id} className=\"task-item\" data-testid={`todo-item-tasks-${todo.id}`}>\n                <input\n                  type=\"checkbox\"\n                  checked={todo.completed}\n                  onChange={() => toggleTodo(todo.id)}\n                  className=\"h-5 w-5 rounded border-gray-300 text-theme-600 focus:ring-theme-500\"\n                  data-testid={`checkbox-todo-tasks-${todo.id}`}\n                />\n                <span className={`flex-grow ${todo.completed ? 'line-through text-gray-400' : ''}`}>\n                  {todo.text}\n                </span>\n                {todo.repeatType && (\n                  <span title={\n                    todo.repeatType === 'daily' ? '毎日' :\n                    todo.repeatType === 'weekly' ? `毎週 ${todo.repeatDays?.map(d => ['日', '月', '火', '水', '木', '金', '土'][d]).join(', ')}` :\n                    todo.repeatType === 'monthly' ? `毎月 ${todo.repeatDate}日` :\n                    '繰り返し'\n                  }>\n                    <Repeat \n                      size={16} \n                      className=\"text-theme-500 mr-2\" \n                      data-testid={`icon-repeat-tasks-${todo.id}`}\n                    />\n                  </span>\n                )}\n                <button \n                  onClick={() => deleteTodo(todo.id)}\n                  className=\"text-red-500 hover:text-red-700\"\n                  data-testid={`button-delete-todo-tasks-${todo.id}`}\n                >\n                  <X size={16} />\n                </button>\n              </div>\n            ))}\n          </div>\n          )}\n        </div>\n      </section>\n\n      {/* Schedules Section */}\n      <section className=\"space-y-2\">\n        <div className=\"flex justify-between items-center mb-3\">\n          <div className=\"flex items-center\">\n            <h2 className=\"text-xl font-bold\">今日の予定</h2>\n            <button\n              className=\"ml-2 bg-theme-500 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-theme-600 transition-colors focus:outline-none focus:ring-2 focus:ring-theme-500 focus:ring-opacity-75\"\n              onClick={() => {\n                setScheduleInputDate(new Date());\n                setScheduleInputModalVisible(true);\n              }}\n              data-testid=\"button-add-schedule\"\n            >\n              <Plus size={20} strokeWidth={2.5} />\n            </button>\n          </div>\n          <button\n            onClick={() => setPastSchedulesModalVisible(true)}\n            className=\"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300 transition-colors\"\n            data-testid=\"button-past-schedules\"\n          >\n            過去の予定\n          </button>\n        </div>\n        {schedulesLoading ? (\n          <div className=\"text-center py-4 text-gray-500\">Loading schedules...</div>\n        ) : (() => {\n          const today = new Date().toLocaleDateString('sv-SE');\n          const todaySchedules = schedules.filter(s => s.date === today);\n          return todaySchedules.length > 0 ? (\n            <div className=\"space-y-2\">\n              {todaySchedules.map(schedule => (\n                <div key={schedule.id} className=\"task-card\" data-testid={`schedule-item-tasks-${schedule.id}`}>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"font-medium flex-grow\">{schedule.text}</span>\n                    <span className=\"text-sm text-gray-500 mr-2\">\n                      {schedule.time ? new Date(schedule.time).toLocaleTimeString('ja-JP', { hour: '2-digit', minute: '2-digit' }) : ''}\n                    </span>\n                    <button\n                      onClick={() => deleteScheduleMutation.mutate(schedule.id)}\n                      className=\"text-red-500 hover:text-red-700 flex-shrink-0\"\n                      data-testid={`button-delete-schedule-tasks-${schedule.id}`}\n                    >\n                      <X size={16} />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-gray-500 text-center py-4\">今日の予定はありません</p>\n          );\n        })()}\n      </section>\n\n      {/* Monthly Goal Achievement Rate */}\n      <section className=\"space-y-2\">\n        <h2 className=\"text-xl font-bold mb-3\">今月の目標達成率</h2>\n        {(() => {\n          const currentMonth = new Date().toLocaleDateString('sv-SE').slice(0, 7);\n          const currentMonthGoal = monthlyGoals.find(g => g.month === currentMonth);\n          \n          if (!currentMonthGoal) {\n            return (\n              <div className=\"bg-gray-50 rounded-lg p-4\" data-testid=\"no-monthly-goals\">\n                <p className=\"text-gray-500 text-center\">今月の目標が設定されていません</p>\n              </div>\n            );\n          }\n\n          const weightGoals = currentMonthGoal.weightGoals || [];\n          const todoGoals = currentMonthGoal.todoGoals || [];\n          const achievementGoals = currentMonthGoal.achievementGoals || [];\n          const activityGoals = currentMonthGoal.activityGoals || [];\n\n          const weightCompleted = currentMonthGoal.weightGoalsCompleted || [];\n          const todoCompleted = currentMonthGoal.todoGoalsCompleted || [];\n          const achievementCompleted = currentMonthGoal.achievementGoalsCompleted || [];\n          const activityCompleted = currentMonthGoal.activityGoalsCompleted || [];\n\n          const totalGoals = weightGoals.length + todoGoals.length + achievementGoals.length + activityGoals.length;\n          const completedGoals = \n            weightCompleted.filter(c => c).length +\n            todoCompleted.filter(c => c).length +\n            achievementCompleted.filter(c => c).length +\n            activityCompleted.filter(c => c).length;\n\n          const achievementRate = totalGoals > 0 ? Math.round((completedGoals / totalGoals) * 100) : 0;\n\n          return (\n            <div className=\"bg-white rounded-lg border-2 border-theme-200 p-4\" data-testid=\"monthly-goal-progress\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"text-sm font-medium text-gray-700\">\n                  {completedGoals} / {totalGoals} 完了\n                </span>\n                <span className=\"text-lg font-bold text-theme-600\" data-testid=\"achievement-rate\">\n                  {achievementRate}%\n                </span>\n              </div>\n              <Progress value={achievementRate} className=\"h-3\" data-testid=\"progress-bar\" />\n            </div>\n          );\n        })()}\n      </section>\n\n      {/* Management Cards */}\n      <section>\n        <h2 className=\"text-xl font-bold mb-3\">管理</h2>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div \n            className=\"record-card\"\n            onClick={() => showScreen('daily-routine-screen')}\n            data-testid=\"card-daily-routine-tasks\"\n          >\n            <h3 className=\"font-bold\">今日やったこと</h3>\n            <p className=\"text-sm text-gray-500\">毎日の習慣...</p>\n          </div>\n          <div \n            className=\"record-card\"\n            onClick={() => showScreen('monthly-goal-screen')}\n            data-testid=\"card-monthly-goal-tasks\"\n          >\n            <h3 className=\"font-bold\">月間目標</h3>\n            <p className=\"text-sm text-gray-500\">今月の目標を設定...</p>\n          </div>\n          <div \n            className=\"record-card\"\n            onClick={() => showScreen('weekly-goal-screen')}\n            data-testid=\"card-weekly-goal-tasks\"\n          >\n            <h3 className=\"font-bold\">週間目標</h3>\n            <p className=\"text-sm text-gray-500\">今週の目標を設定...</p>\n          </div>\n          <div \n            className=\"record-card\"\n            onClick={() => showScreen('weekly-review-screen')}\n            data-testid=\"card-weekly-review-tasks\"\n          >\n            <h3 className=\"font-bold\">週次振り返り</h3>\n            <p className=\"text-sm text-gray-500\">今週の記録を確認...</p>\n          </div>\n          <div \n            className=\"record-card\"\n            onClick={() => showScreen('week-tracker-screen')}\n            data-testid=\"card-week-tracker-tasks\"\n          >\n            <h3 className=\"font-bold\">週間トラッカー</h3>\n            <p className=\"text-sm text-gray-500\">日ごとの進捗を確認...</p>\n          </div>\n        </div>\n      </section>\n\n      {/* Past Schedules Modal */}\n      {pastSchedulesModalVisible && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n          <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg max-h-[80vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-bold\">過去の予定</h2>\n              <button\n                onClick={() => setPastSchedulesModalVisible(false)}\n                className=\"p-2 hover:bg-gray-100 rounded-full\"\n                data-testid=\"button-close-past-schedules\"\n              >\n                <X size={20} />\n              </button>\n            </div>\n            {(() => {\n              const today = new Date().toLocaleDateString('sv-SE');\n              const pastSchedules = schedules.filter(s => s.date !== today);\n              \n              if (pastSchedules.length === 0) {\n                return <p className=\"text-gray-500 text-center py-8\">過去の予定はありません</p>;\n              }\n\n              // Group schedules by month\n              const schedulesByMonth: { [key: string]: Schedule[] } = {};\n              pastSchedules.forEach(schedule => {\n                const monthKey = schedule.date.slice(0, 7); // YYYY-MM\n                if (!schedulesByMonth[monthKey]) {\n                  schedulesByMonth[monthKey] = [];\n                }\n                schedulesByMonth[monthKey].push(schedule);\n              });\n\n              // Sort months in descending order\n              const sortedMonths = Object.keys(schedulesByMonth).sort((a, b) => b.localeCompare(a));\n\n              return (\n                <div className=\"space-y-6\">\n                  {sortedMonths.map(monthKey => {\n                    const date = new Date(monthKey + '-01');\n                    const monthLabel = date.toLocaleDateString('ja-JP', { year: 'numeric', month: 'long' });\n                    const monthSchedules = schedulesByMonth[monthKey].sort((a, b) => b.date.localeCompare(a.date));\n\n                    return (\n                      <div key={monthKey} data-testid={`month-group-${monthKey}`}>\n                        <h3 className=\"font-bold text-lg mb-3 text-theme-600\">{monthLabel}</h3>\n                        <div className=\"space-y-2\">\n                          {monthSchedules.map(schedule => (\n                            <div key={schedule.id} className=\"bg-gray-50 rounded-lg p-3\" data-testid={`past-schedule-${schedule.id}`}>\n                              <div className=\"flex items-start justify-between gap-2\">\n                                <div className=\"flex-1\">\n                                  <div className=\"font-medium\">{schedule.text}</div>\n                                  <div className=\"text-sm text-gray-500 mt-1\">\n                                    {new Date(schedule.date).toLocaleDateString('ja-JP', { month: 'long', day: 'numeric', weekday: 'short' })}\n                                    {schedule.time && ` ${new Date(schedule.time).toLocaleTimeString('ja-JP', { hour: '2-digit', minute: '2-digit' })}`}\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              );\n            })()}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  const renderCalendarScreen = () => {\n    // Generate calendar days\n    const getCalendarDays = () => {\n      const year = calendarMonth.getFullYear();\n      const month = calendarMonth.getMonth();\n      const firstDay = new Date(year, month, 1);\n      const lastDay = new Date(year, month + 1, 0);\n      const daysInMonth = lastDay.getDate();\n      const startingDayOfWeek = firstDay.getDay();\n\n      const days: (Date | null)[] = [];\n      \n      // Add empty cells for days before the first day of the month\n      for (let i = 0; i < startingDayOfWeek; i++) {\n        days.push(null);\n      }\n      \n      // Add all days of the month\n      for (let day = 1; day <= daysInMonth; day++) {\n        days.push(new Date(year, month, day));\n      }\n      \n      return days;\n    };\n\n    const getDayTasks = (date: Date) => {\n      const dateStr = date.toLocaleDateString('sv-SE');\n      return todos.filter(todo => {\n        const todoDate = new Date(todo.createdAt).toLocaleDateString('sv-SE');\n        return todoDate === dateStr;\n      });\n    };\n\n    const getDaySchedules = (date: Date) => {\n      const dateStr = date.toLocaleDateString('sv-SE');\n      return schedules.filter(schedule => schedule.date === dateStr);\n    };\n\n    const hasOverdueTasks = (date: Date) => {\n      const dateStr = date.toLocaleDateString('sv-SE');\n      const today = new Date().toLocaleDateString('sv-SE');\n      if (dateStr >= today) return false;\n      \n      const dayTasks = getDayTasks(date);\n      return dayTasks.some(task => !task.completed);\n    };\n\n    const goToPreviousMonth = () => {\n      setCalendarMonth(new Date(calendarMonth.getFullYear(), calendarMonth.getMonth() - 1));\n    };\n\n    const goToNextMonth = () => {\n      setCalendarMonth(new Date(calendarMonth.getFullYear(), calendarMonth.getMonth() + 1));\n    };\n\n    const isToday = (date: Date | null) => {\n      if (!date) return false;\n      const today = new Date();\n      return date.toDateString() === today.toDateString();\n    };\n\n    const calendarDays = getCalendarDays();\n\n    return (\n      <div className=\"page p-4\">\n        <header className=\"flex items-center mb-6\">\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100\"\n            onClick={() => showScreen('home-screen')}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          <h2 className=\"text-xl font-bold mx-auto pr-8\">カレンダー</h2>\n        </header>\n        \n        <div className=\"px-4 space-y-6\">\n          {/* Month Navigation */}\n          <div className=\"flex items-center justify-between bg-white rounded-lg shadow p-4\">\n            <button\n              onClick={goToPreviousMonth}\n              className=\"p-2 hover:bg-gray-100 rounded-full\"\n              data-testid=\"button-prev-month\"\n            >\n              <ArrowLeft size={20} />\n            </button>\n            <div className=\"text-center\">\n              <div className=\"font-bold text-lg\" data-testid=\"text-current-month\">\n                {calendarMonth.getFullYear()}年 {calendarMonth.getMonth() + 1}月\n              </div>\n            </div>\n            <button\n              onClick={goToNextMonth}\n              className=\"p-2 hover:bg-gray-100 rounded-full\"\n              data-testid=\"button-next-month\"\n            >\n              <ArrowLeft size={20} className=\"rotate-180\" />\n            </button>\n          </div>\n\n          {/* Calendar Grid */}\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            {/* Weekday Headers */}\n            <div className=\"grid grid-cols-7 gap-1 mb-2\">\n              {['日', '月', '火', '水', '木', '金', '土'].map((day, index) => (\n                <div key={index} className=\"text-center text-sm font-semibold text-gray-500 py-2\">\n                  {day}\n                </div>\n              ))}\n            </div>\n            \n            {/* Calendar Days */}\n            <div className=\"grid grid-cols-7 gap-1\">\n              {calendarDays.map((date, index) => {\n                if (!date) {\n                  return <div key={`empty-${index}`} className=\"h-12\" />;\n                }\n                \n                const dayTasks = getDayTasks(date);\n                const daySchedules = getDaySchedules(date);\n                const hasOverdue = hasOverdueTasks(date);\n                const isSelected = calendarSelectedDay?.toDateString() === date.toDateString();\n                \n                return (\n                  <button\n                    key={index}\n                    onClick={() => setCalendarSelectedDay(date)}\n                    className={`h-12 rounded-lg flex flex-col items-center justify-center relative transition-colors ${\n                      isToday(date)\n                        ? 'border-2 border-theme-500 text-theme-600 font-bold'\n                        : isSelected\n                        ? 'bg-theme-100 text-theme-700'\n                        : 'hover:bg-gray-100'\n                    }`}\n                    data-testid={`calendar-day-${date.getDate()}`}\n                  >\n                    <span className=\"text-sm\">{date.getDate()}</span>\n                    <div className=\"flex gap-0.5 mt-1\">\n                      {dayTasks.length > 0 && (\n                        <div className=\"w-1 h-1 rounded-full bg-theme-500\" data-testid={`task-dot-${date.getDate()}`} />\n                      )}\n                      {daySchedules.length > 0 && (\n                        <div className=\"w-1 h-1 rounded-full bg-blue-500\" data-testid={`schedule-dot-${date.getDate()}`} />\n                      )}\n                      {hasOverdue && (\n                        <div className=\"w-1 h-1 rounded-full bg-red-500\" data-testid={`overdue-dot-${date.getDate()}`} />\n                      )}\n                    </div>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Selected Day Details */}\n          {calendarSelectedDay && (\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"font-bold text-lg mb-4\">\n                {calendarSelectedDay.getMonth() + 1}月{calendarSelectedDay.getDate()}日の予定・タスク\n              </h3>\n              \n              {/* Schedules */}\n              {getDaySchedules(calendarSelectedDay).length > 0 && (\n                <div className=\"mb-4\">\n                  <h4 className=\"font-semibold text-sm text-gray-500 mb-2\">予定</h4>\n                  <div className=\"space-y-2\">\n                    {getDaySchedules(calendarSelectedDay).map(schedule => (\n                      <div key={schedule.id} className=\"flex items-center gap-2 p-2 bg-blue-50 rounded-lg\" data-testid={`calendar-schedule-${schedule.id}`}>\n                        <Clock size={16} className=\"text-blue-500\" />\n                        <span className=\"flex-grow\">{schedule.text}</span>\n                        {schedule.time && (\n                          <span className=\"text-xs text-gray-500\">\n                            {formatTime(schedule.time)}\n                          </span>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n              \n              {/* Tasks */}\n              {getDayTasks(calendarSelectedDay).length > 0 && (\n                <div>\n                  <h4 className=\"font-semibold text-sm text-gray-500 mb-2\">タスク</h4>\n                  <div className=\"space-y-2\">\n                    {getDayTasks(calendarSelectedDay).map(task => (\n                      <div key={task.id} className=\"flex items-center gap-2 p-2 bg-theme-50 rounded-lg\" data-testid={`calendar-task-${task.id}`}>\n                        <input\n                          type=\"checkbox\"\n                          checked={task.completed}\n                          onChange={() => toggleTodo(task.id)}\n                          className=\"h-4 w-4 rounded border-gray-300 text-theme-600 focus:ring-theme-500\"\n                        />\n                        <span className={task.completed ? 'line-through text-gray-400 flex-grow' : 'flex-grow'}>\n                          {task.text}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n              \n              {getDaySchedules(calendarSelectedDay).length === 0 && getDayTasks(calendarSelectedDay).length === 0 && (\n                <p className=\"text-gray-500 text-center py-4\">この日の予定・タスクはありません</p>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const renderSettingsScreen = () => {\n    const themeColors = [\n      { value: 'pink', label: 'ピンク', color: 'bg-pink-500' },\n      { value: 'blue', label: 'ブルー', color: 'bg-blue-500' },\n      { value: 'green', label: 'グリーン', color: 'bg-green-500' },\n      { value: 'purple', label: 'パープル', color: 'bg-purple-500' },\n      { value: 'orange', label: 'オレンジ', color: 'bg-orange-500' }\n    ];\n\n    const handleSettingChange = async (key: string, value: any) => {\n      try {\n        await updateSettingsMutation.mutateAsync({ [key]: value });\n      } catch (error) {\n        console.error('Failed to update settings:', error);\n      }\n    };\n\n    if (settingsLoading) {\n      return (\n        <div className=\"page p-4 flex items-center justify-center\">\n          <div className=\"text-gray-500\">読み込み中...</div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"page p-4\">\n        <header className=\"flex items-center mb-6\">\n          <button \n            className=\"p-2 rounded-full hover:bg-gray-100\"\n            onClick={() => showScreen('home-screen')}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          <h2 className=\"text-xl font-bold mx-auto pr-8\">設定</h2>\n        </header>\n        \n        <div className=\"px-4 space-y-6\">\n          {/* Dark Mode Section */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"p-4 border-b\">\n              <h3 className=\"text-sm font-semibold text-gray-500 uppercase\">表示設定</h3>\n            </div>\n            <div className=\"p-4 flex items-center justify-between\" style={{ minHeight: '56px' }}>\n              <div>\n                <div className=\"font-medium\">ダークモード</div>\n                <div className=\"text-sm text-gray-500\">暗いテーマを使用</div>\n              </div>\n              <Switch\n                checked={userSettings?.darkMode || false}\n                onCheckedChange={(checked) => handleSettingChange('darkMode', checked)}\n                data-testid=\"switch-dark-mode\"\n              />\n            </div>\n          </div>\n\n          {/* Theme Color Section */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"p-4 border-b\">\n              <h3 className=\"text-sm font-semibold text-gray-500 uppercase\">テーマカラー</h3>\n            </div>\n            <div className=\"p-4 space-y-3\">\n              {themeColors.map((theme) => (\n                <button\n                  key={theme.value}\n                  className={`w-full p-3 rounded-lg border-2 transition-all ${\n                    userSettings?.themeColor === theme.value\n                      ? 'border-theme-500 bg-theme-50'\n                      : 'border-gray-200 hover:border-gray-300'\n                  }`}\n                  onClick={() => handleSettingChange('themeColor', theme.value)}\n                  data-testid={`button-theme-${theme.value}`}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className={`w-8 h-8 rounded-full ${theme.color}`} />\n                    <span className=\"font-medium\">{theme.label}</span>\n                    {userSettings?.themeColor === theme.value && (\n                      <span className=\"ml-auto text-theme-500\">✓</span>\n                    )}\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Push Notifications Section */}\n          <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"p-4 border-b\">\n              <h3 className=\"text-sm font-semibold text-gray-500 uppercase\">通知設定</h3>\n            </div>\n            <div className=\"p-4 flex items-center justify-between\" style={{ minHeight: '56px' }}>\n              <div>\n                <div className=\"font-medium\">プッシュ通知</div>\n                <div className=\"text-sm text-gray-500\">タスクのリマインダーを受け取る</div>\n              </div>\n              <Switch\n                checked={userSettings?.pushNotifications || false}\n                onCheckedChange={(checked) => handleSettingChange('pushNotifications', checked)}\n                data-testid=\"switch-push-notifications\"\n              />\n            </div>\n          </div>\n\n        </div>\n      </div>\n    );\n  };\n\n  const renderLinksScreen = () => (\n    <div className=\"page p-4\">\n      <header className=\"flex items-center mb-6\">\n        <button \n          className=\"p-2 rounded-full hover:bg-gray-100\"\n          onClick={() => showScreen('home-screen')}\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft size={24} />\n        </button>\n        <h2 className=\"text-xl font-bold mx-auto pr-8\">リンク集</h2>\n      </header>\n\n      <div className=\"space-y-4\">\n        <button\n          onClick={() => setLinkInputVisible(true)}\n          className=\"w-full py-3 px-4 bg-theme-500 text-white rounded-lg hover:bg-theme-600 transition-colors flex items-center justify-center gap-2\"\n          data-testid=\"button-add-link\"\n        >\n          <Plus size={20} />\n          リンクを追加\n        </button>\n\n        {linksLoading ? (\n          <div className=\"text-center py-8 text-gray-500\">読み込み中...</div>\n        ) : links.length === 0 ? (\n          <div className=\"text-center py-8 text-gray-500\">\n            <LinkIcon size={48} className=\"mx-auto mb-2 opacity-50\" />\n            <p>保存されたリンクはありません</p>\n            <p className=\"text-sm mt-1\">YouTubeなどの動画リンクを保存できます</p>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {links.map(link => (\n              <div key={link.id} className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\" data-testid={`link-item-${link.id}`}>\n                <div className=\"flex items-start justify-between gap-3\">\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"font-medium text-gray-900 mb-1 truncate\" data-testid={`link-title-${link.id}`}>{link.title}</h3>\n                    <a \n                      href={link.url} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-theme-600 hover:text-theme-700 break-all\"\n                      data-testid={`link-url-${link.id}`}\n                    >\n                      {link.url}\n                    </a>\n                    {link.category && (\n                      <span className=\"inline-block mt-2 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded\" data-testid={`link-category-${link.id}`}>\n                        {link.category === 'youtube' ? 'YouTube' : link.category === 'article' ? '記事' : 'その他'}\n                      </span>\n                    )}\n                  </div>\n                  <button\n                    onClick={() => deleteLinkMutation.mutate(link.id)}\n                    className=\"text-red-500 hover:text-red-700 p-2\"\n                    data-testid={`button-delete-link-${link.id}`}\n                  >\n                    <X size={20} />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {linkInputVisible && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n          <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm\">\n            <h2 className=\"text-xl font-bold mb-4\">リンクを追加</h2>\n            <div className=\"space-y-3\">\n              <input\n                type=\"text\"\n                value={linkTitle}\n                onChange={(e) => setLinkTitle(e.target.value)}\n                placeholder=\"タイトル\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-theme-500\"\n                data-testid=\"input-link-title\"\n              />\n              <input\n                type=\"url\"\n                value={linkUrl}\n                onChange={(e) => setLinkUrl(e.target.value)}\n                placeholder=\"URL (例: https://youtube.com/...)\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-theme-500\"\n                data-testid=\"input-link-url\"\n              />\n              <select\n                value={linkCategory}\n                onChange={(e) => setLinkCategory(e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-theme-500\"\n                data-testid=\"select-link-category\"\n              >\n                <option value=\"youtube\">YouTube</option>\n                <option value=\"article\">記事</option>\n                <option value=\"other\">その他</option>\n              </select>\n            </div>\n            <div className=\"flex gap-2 mt-6\">\n              <button\n                onClick={() => {\n                  setLinkInputVisible(false);\n                  setLinkTitle('');\n                  setLinkUrl('');\n                  setLinkCategory('other');\n                }}\n                className=\"flex-1 py-2 px-4 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\n                data-testid=\"button-cancel-link\"\n              >\n                キャンセル\n              </button>\n              <button\n                onClick={() => {\n                  if (linkTitle.trim() && linkUrl.trim()) {\n                    createLinkMutation.mutate({\n                      title: linkTitle.trim(),\n                      url: linkUrl.trim(),\n                      category: linkCategory\n                    });\n                  }\n                }}\n                className=\"flex-1 py-2 px-4 bg-theme-500 text-white rounded-lg hover:bg-theme-600 transition-colors\"\n                data-testid=\"button-save-link\"\n              >\n                保存\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  const renderScreen = () => {\n    // Show goal setup screen if it's the first time in a new month\n    if (showGoalSetupScreen) {\n      return renderMonthlyGoalScreen();\n    }\n\n    switch (currentScreen) {\n      case 'home-screen':\n        return renderHomeScreen();\n      case 'tasks-screen':\n        return renderTasksScreen();\n      case 'pomodoro-screen':\n        return renderPomodoroScreen();\n      case 'body-detail-screen':\n        return renderBodyDetailScreen();\n      case 'diary-detail-screen':\n        return renderDiaryDetailScreen();\n      case 'daily-routine-screen':\n        return renderDailyRoutineScreen();\n      case 'monthly-goal-screen':\n        return renderMonthlyGoalScreen();\n      case 'weekly-goal-screen':\n        return renderWeeklyGoalScreen();\n      case 'weekly-review-screen':\n        return renderWeeklyReviewScreen();\n      case 'week-tracker-screen':\n        return renderWeekTrackerScreen();\n      case 'meal-detail-screen':\n        return renderMealDetailScreen();\n      case 'calendar-screen':\n        return renderCalendarScreen();\n      case 'settings-screen':\n        return renderSettingsScreen();\n      case 'links-screen':\n        return renderLinksScreen();\n      default:\n        return renderHomeScreen();\n    }\n  };\n\n  return (\n    <div className=\"bg-theme-50 text-theme-900 min-h-screen\">\n      <div className=\"max-w-md mx-auto bg-white shadow-lg min-h-screen pb-24\">\n        {/* Schedule Modal */}\n        {scheduleModalVisible && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm\">\n              <h2 className=\"text-xl font-bold mb-4\">予定を追加</h2>\n              <input \n                type=\"text\" \n                placeholder=\"予定を入力\" \n                value={scheduleInput}\n                onChange={(e) => setScheduleInput(e.target.value)}\n                className=\"form-input mb-4\"\n                data-testid=\"input-schedule\"\n              />\n              <div className=\"flex justify-end space-x-3\">\n                <button \n                  className=\"btn-secondary\"\n                  onClick={() => setScheduleModalVisible(false)}\n                  data-testid=\"button-cancel-schedule\"\n                >\n                  キャンセル\n                </button>\n                <button \n                  className=\"btn-primary\"\n                  onClick={saveSchedule}\n                  data-testid=\"button-save-schedule\"\n                >\n                  保存\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Export Modal */}\n        {exportModalVisible && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm\">\n              <h2 className=\"text-xl font-bold mb-4\">データエクスポート</h2>\n              <p className=\"text-sm text-gray-600 mb-6\">\n                すべてのデータをエクスポートします。形式を選択してください。\n              </p>\n              <div className=\"space-y-3\">\n                <button \n                  className=\"w-full btn-primary\"\n                  onClick={() => exportData('json')}\n                  disabled={exportLoading}\n                  data-testid=\"button-export-json\"\n                >\n                  {exportLoading ? '処理中...' : 'JSON形式でエクスポート'}\n                </button>\n                <button \n                  className=\"w-full btn-secondary\"\n                  onClick={() => exportData('csv')}\n                  disabled={exportLoading}\n                  data-testid=\"button-export-csv\"\n                >\n                  {exportLoading ? '処理中...' : 'CSV形式でエクスポート'}\n                </button>\n              </div>\n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button \n                  className=\"btn-secondary\"\n                  onClick={() => setExportModalVisible(false)}\n                  disabled={exportLoading}\n                  data-testid=\"button-cancel-export\"\n                >\n                  キャンセル\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Calendar Modal */}\n        {calendarModalVisible && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-md\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h2 className=\"text-xl font-bold\">カレンダー</h2>\n                <button \n                  className=\"text-gray-500 hover:text-gray-700\"\n                  onClick={() => setCalendarModalVisible(false)}\n                  data-testid=\"button-close-calendar\"\n                >\n                  ✕\n                </button>\n              </div>\n              \n              {/* Calendar Navigation */}\n              <div className=\"flex justify-between items-center mb-4\">\n                <button \n                  className=\"btn-secondary\"\n                  onClick={() => setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() - 1, 1))}\n                  data-testid=\"button-prev-month\"\n                >\n                  ‹\n                </button>\n                <span className=\"font-medium\" data-testid=\"text-current-month\">\n                  {selectedDate.getFullYear()}年{selectedDate.getMonth() + 1}月\n                </span>\n                <button \n                  className=\"btn-secondary\"\n                  onClick={() => setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1, 1))}\n                  data-testid=\"button-next-month\"\n                >\n                  ›\n                </button>\n              </div>\n\n              {/* Calendar Grid */}\n              <div className=\"grid grid-cols-7 gap-1 mb-4\">\n                {['日', '月', '火', '水', '木', '金', '土'].map(day => (\n                  <div key={day} className=\"text-center p-2 font-medium text-gray-600 text-sm\">\n                    {day}\n                  </div>\n                ))}\n                {(() => {\n                  const year = selectedDate.getFullYear();\n                  const month = selectedDate.getMonth();\n                  const firstDay = new Date(year, month, 1);\n                  const lastDay = new Date(year, month + 1, 0);\n                  const startDate = new Date(firstDay);\n                  startDate.setDate(startDate.getDate() - firstDay.getDay());\n                  \n                  const days = [];\n                  for (let i = 0; i < 42; i++) {\n                    const currentDate = new Date(startDate);\n                    currentDate.setDate(startDate.getDate() + i);\n                    const isCurrentMonth = currentDate.getMonth() === month;\n                    const isToday = currentDate.toDateString() === new Date().toDateString();\n                    const hasSchedule = schedules.some(schedule => \n                      schedule.date === currentDate.toLocaleDateString('sv-SE')\n                    );\n                    \n                    days.push(\n                      <button\n                        key={i}\n                        className={`p-2 text-sm rounded hover:bg-theme-100 relative ${\n                          isCurrentMonth ? 'text-gray-900' : 'text-gray-400'\n                        } ${isToday ? 'bg-theme-500 text-white hover:bg-theme-600' : ''}`}\n                        onClick={() => {\n                          if (isCurrentMonth) {\n                            setSelectedDate(new Date(currentDate));\n                            addScheduleForDate(new Date(currentDate));\n                          }\n                        }}\n                        data-testid={`calendar-day-${currentDate.getDate()}`}\n                      >\n                        {currentDate.getDate()}\n                        {hasSchedule && isCurrentMonth && (\n                          <div className=\"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-theme-500 rounded-full\"></div>\n                        )}\n                      </button>\n                    );\n                  }\n                  return days;\n                })()}\n              </div>\n\n              {/* Selected Date Schedules */}\n              <div className=\"border-t pt-4\">\n                <h3 className=\"font-medium mb-2\">選択日の予定</h3>\n                {(() => {\n                  const selectedDateStr = selectedDate.toLocaleDateString('sv-SE');\n                  const daySchedules = schedules.filter(s => s.date === selectedDateStr);\n                  return daySchedules.length > 0 ? (\n                    <div className=\"space-y-2 max-h-32 overflow-y-auto\">\n                      {daySchedules.map(schedule => (\n                        <div key={schedule.id} className=\"text-sm p-2 bg-gray-50 rounded\" data-testid={`schedule-${schedule.id}`}>\n                          {schedule.text}\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-gray-500\">予定がありません</p>\n                  );\n                })()}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* TODO Input Modal */}\n        {todoInputModalVisible && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm\">\n              <h2 className=\"text-xl font-bold mb-4\">TODO追加</h2>\n              <input\n                type=\"text\"\n                placeholder=\"TODOを入力してください\"\n                value={todoInputText}\n                onChange={(e) => setTodoInputText(e.target.value)}\n                className=\"form-input mb-4 w-full\"\n                data-testid=\"input-todo-text\"\n                onKeyPress={(e) => {\n                  if (e.key === 'Enter' && repeatType === 'none') {\n                    saveTodoInput();\n                  }\n                }}\n                autoFocus\n              />\n              \n              {/* 繰り返し設定 */}\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium mb-2\">繰り返し設定</label>\n                <select\n                  value={repeatType}\n                  onChange={(e) => setRepeatType(e.target.value as any)}\n                  className=\"form-input w-full\"\n                  data-testid=\"select-repeat-type\"\n                >\n                  <option value=\"none\">繰り返しなし</option>\n                  <option value=\"daily\">毎日</option>\n                  <option value=\"weekly\">毎週</option>\n                  <option value=\"monthly\">毎月</option>\n                </select>\n              </div>\n\n              {/* 曜日選択（毎週の場合） */}\n              {repeatType === 'weekly' && (\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium mb-2\">曜日を選択</label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {['日', '月', '火', '水', '木', '金', '土'].map((day, index) => (\n                      <button\n                        key={index}\n                        type=\"button\"\n                        onClick={() => {\n                          if (repeatDays.includes(index)) {\n                            setRepeatDays(repeatDays.filter(d => d !== index));\n                          } else {\n                            setRepeatDays([...repeatDays, index]);\n                          }\n                        }}\n                        className={`px-3 py-1 rounded-full text-sm ${\n                          repeatDays.includes(index)\n                            ? 'bg-theme-500 text-white'\n                            : 'bg-gray-200 text-gray-700'\n                        }`}\n                        data-testid={`button-weekday-${index}`}\n                      >\n                        {day}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* 日付選択（毎月の場合） */}\n              {repeatType === 'monthly' && (\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium mb-2\">日付を選択</label>\n                  <select\n                    value={repeatDate || ''}\n                    onChange={(e) => setRepeatDate(e.target.value ? parseInt(e.target.value) : null)}\n                    className=\"form-input w-full\"\n                    data-testid=\"select-repeat-date\"\n                  >\n                    <option value=\"\">日付を選択</option>\n                    {Array.from({ length: 31 }, (_, i) => i + 1).map(date => (\n                      <option key={date} value={date}>{date}日</option>\n                    ))}\n                  </select>\n                </div>\n              )}\n\n              {/* 位置情報設定 */}\n              <div className=\"mb-4\">\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={locationEnabled}\n                    onChange={(e) => setLocationEnabled(e.target.checked)}\n                    className=\"mr-2\"\n                    data-testid=\"checkbox-location-enabled\"\n                  />\n                  <span className=\"text-sm font-medium\">位置情報ベースの通知</span>\n                </label>\n              </div>\n\n              {locationEnabled && (\n                <div className=\"mb-4 space-y-3\">\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">場所名</label>\n                    <input\n                      type=\"text\"\n                      value={locationName}\n                      onChange={(e) => setLocationName(e.target.value)}\n                      placeholder=\"例: 自宅、オフィス\"\n                      className=\"form-input w-full\"\n                      data-testid=\"input-location-name\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">半径 (m)</label>\n                    <input\n                      type=\"number\"\n                      value={locationRadius}\n                      onChange={(e) => setLocationRadius(parseInt(e.target.value) || 100)}\n                      className=\"form-input w-full\"\n                      data-testid=\"input-location-radius\"\n                    />\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={getCurrentLocation}\n                    className=\"w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\n                    data-testid=\"button-get-current-location\"\n                  >\n                    現在位置を取得\n                  </button>\n                  {locationLat && locationLng && (\n                    <div className=\"text-xs text-gray-500\">\n                      位置: {locationLat.toFixed(4)}, {locationLng.toFixed(4)}\n                    </div>\n                  )}\n                </div>\n              )}\n              \n              <div className=\"flex justify-end space-x-3\">\n                <button \n                  className=\"btn-secondary\"\n                  onClick={() => {\n                    setTodoInputModalVisible(false);\n                    setTodoInputText('');\n                    setRepeatType('none');\n                    setRepeatDays([]);\n                    setRepeatDate(null);\n                    setLocationEnabled(false);\n                    setLocationName('');\n                    setLocationLat(null);\n                    setLocationLng(null);\n                    setLocationRadius(100);\n                  }}\n                  data-testid=\"button-close-todo-input\"\n                >\n                  完了\n                </button>\n                <button \n                  className=\"btn-primary\"\n                  onClick={saveTodoInput}\n                  disabled={!todoInputText.trim()}\n                  data-testid=\"button-save-todo\"\n                >\n                  追加\n                </button>\n              </div>\n              <div className=\"mt-3 text-sm text-gray-600\">\n                Enterキーでも追加できます。「完了」を押すまで続けて追加できます。\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Schedule Input Modal */}\n        {scheduleInputModalVisible && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm\">\n              <h2 className=\"text-xl font-bold mb-4\">\n                予定追加 - {scheduleInputDate?.getFullYear()}年{(scheduleInputDate?.getMonth() ?? 0) + 1}月{scheduleInputDate?.getDate()}日\n              </h2>\n              <input\n                type=\"text\"\n                placeholder=\"予定を入力してください\"\n                value={scheduleInputText}\n                onChange={(e) => setScheduleInputText(e.target.value)}\n                className=\"form-input mb-3 w-full\"\n                data-testid=\"input-schedule-text\"\n                onKeyPress={(e) => {\n                  if (e.key === 'Enter') {\n                    saveScheduleInput();\n                  }\n                }}\n                autoFocus\n              />\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">開始時間（任意）</label>\n                <input\n                  type=\"time\"\n                  value={scheduleInputTime}\n                  onChange={(e) => setScheduleInputTime(e.target.value)}\n                  className=\"form-input w-full\"\n                  data-testid=\"input-schedule-time\"\n                />\n              </div>\n              <div className=\"flex justify-end space-x-3\">\n                <button \n                  className=\"btn-secondary\"\n                  onClick={() => {\n                    setScheduleInputModalVisible(false);\n                    setScheduleInputText('');\n                    setScheduleInputTime('');\n                  }}\n                  data-testid=\"button-cancel-schedule-input\"\n                >\n                  キャンセル\n                </button>\n                <button \n                  className=\"btn-primary\"\n                  onClick={saveScheduleInput}\n                  disabled={!scheduleInputText.trim()}\n                  data-testid=\"button-save-schedule-input\"\n                >\n                  保存\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Notification Modal */}\n        {notificationModalVisible && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm\">\n              <h2 className=\"text-xl font-bold mb-4\">通知設定</h2>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm font-medium\">通知を有効にする</span>\n                  <button\n                    className={`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${\n                      notificationsEnabled ? 'bg-theme-500' : 'bg-gray-200'\n                    }`}\n                    onClick={toggleNotifications}\n                    data-testid=\"toggle-notifications\"\n                  >\n                    <span\n                      className={`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${\n                        notificationsEnabled ? 'translate-x-5' : 'translate-x-0'\n                      }`}\n                    />\n                  </button>\n                </div>\n                <div className=\"text-sm text-gray-600\">\n                  {notificationPermission === 'denied' && (\n                    <p className=\"text-red-600\">ブラウザの通知がブロックされています。ブラウザ設定で通知を許可してください。</p>\n                  )}\n                  {notificationPermission === 'default' && (\n                    <p>通知を有効にすると、タスクと予定のリマインダーが表示されます。</p>\n                  )}\n                  {notificationPermission === 'granted' && notificationsEnabled && (\n                    <p className=\"text-green-600\">通知が有効になっています。30分ごとにリマインダーを確認します。</p>\n                  )}\n                  {notificationPermission === 'granted' && !notificationsEnabled && (\n                    <p>通知は無効になっています。</p>\n                  )}\n                </div>\n                {notificationsEnabled && (\n                  <button \n                    className=\"w-full btn-secondary\"\n                    onClick={checkTaskReminders}\n                    data-testid=\"button-test-notification\"\n                  >\n                    今すぐリマインダーを確認\n                  </button>\n                )}\n              </div>\n              <div className=\"flex justify-end space-x-3 mt-6\">\n                <button \n                  className=\"btn-secondary\"\n                  onClick={() => setNotificationModalVisible(false)}\n                  data-testid=\"button-close-notification\"\n                >\n                  閉じる\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Header */}\n        <header className=\"sticky top-0 bg-white/80 backdrop-blur-sm z-10 px-4 py-3 flex justify-between items-center border-b border-theme-200\">\n          <h1 className=\"text-lg font-bold text-gray-900\">タスク管理</h1>\n          <div className=\"text-sm font-medium text-gray-600\" data-testid=\"text-header-date\">\n            {getCurrentDate()}\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <button \n              className={`transition-colors ${notificationsEnabled ? 'text-theme-500 hover:text-theme-600' : 'text-gray-500 hover:text-theme-500'}`}\n              onClick={() => setNotificationModalVisible(true)}\n              data-testid=\"button-notification\"\n              title=\"通知設定\"\n            >\n              <Bell size={24} />\n            </button>\n            <button \n              className=\"text-gray-500 hover:text-theme-500 transition-colors\"\n              onClick={() => setExportModalVisible(true)}\n              data-testid=\"button-export\"\n              title=\"データエクスポート\"\n            >\n              <Download size={20} />\n            </button>\n          </div>\n        </header>\n\n        {/* Main Content */}\n        <main>\n          {renderScreen()}\n        </main>\n\n        {/* Bottom Navigation */}\n        <nav className=\"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-white border-t border-theme-200 flex\">\n          <button \n            className={`nav-btn flex-1 flex flex-col items-center py-2 text-center ${\n              currentScreen === 'home-screen' ? 'nav-active' : ''\n            }`}\n            onClick={() => showScreen('home-screen')}\n            data-testid=\"nav-home\"\n          >\n            <Home size={24} className=\"mb-1\" />\n            <span className=\"text-xs\">ホーム</span>\n          </button>\n          <button \n            className={`nav-btn flex-1 flex flex-col items-center py-2 text-center ${\n              currentScreen === 'tasks-screen' ? 'nav-active' : ''\n            }`}\n            onClick={() => showScreen('tasks-screen')}\n            data-testid=\"nav-tasks\"\n          >\n            <ListChecks size={24} className=\"mb-1\" />\n            <span className=\"text-xs\">タスク管理</span>\n          </button>\n        </nav>\n      </div>\n    </div>\n  );\n};\n\nexport default TaskManager;\n","path":null,"size_bytes":174394,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","path":null,"size_bytes":1858,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1419,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5742,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1080,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"shared/schema.ts":{"content":"export {};\n","path":null,"size_bytes":11,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/types/index.ts":{"content":"// Import types from shared schema to ensure consistency between frontend and backend\nimport type {\n  Todo,\n  Schedule,\n  WeightRecord,\n  MealRecord,\n  DiaryEntry,\n  DailyRoutine,\n  MonthlyGoal,\n  Link,\n  InsertTodo,\n  InsertSchedule,\n  InsertWeightRecord,\n  InsertMealRecord,\n  InsertDiaryEntry,\n  InsertDailyRoutine,\n  InsertMonthlyGoal,\n  InsertLink\n} from '@shared/schema';\n\n// Re-export for other components\nexport type {\n  Todo,\n  Schedule,\n  WeightRecord,\n  MealRecord,\n  DiaryEntry,\n  DailyRoutine,\n  MonthlyGoal,\n  Link,\n  InsertTodo,\n  InsertSchedule,\n  InsertWeightRecord,\n  InsertMealRecord,\n  InsertDiaryEntry,\n  InsertDailyRoutine,\n  InsertMonthlyGoal,\n  InsertLink\n};\n\nexport interface PomodoroState {\n  minutes: number;\n  seconds: number;\n  isRunning: boolean;\n  mode: 'pomodoro' | 'shortBreak' | 'longBreak';\n  interval?: NodeJS.Timeout;\n}\n\nexport interface AppState {\n  currentScreen: string;\n  todoVisible: boolean;\n  pomodoro: PomodoroState;\n  todos: Todo[];\n  schedules: Schedule[];\n  weightRecords: WeightRecord[];\n  mealRecords: MealRecord[];\n  diaryEntries: DiaryEntry[];\n}\n","path":null,"size_bytes":1098,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1128,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"design_guidelines.md":{"content":"# Design Guidelines: Japanese Task Management Mobile App\n\n## Design Approach\n\n**Selected Approach:** Design System-Inspired with Custom Pink Theme\n**Justification:** Task management apps require strong utility focus, information density, and functional patterns. Drawing from Material Design mobile principles and modern productivity apps (Todoist, Things 3) while applying a distinctive pink color palette.\n\n**Core Principles:**\n- Mobile-first responsive design (320px-768px primary range)\n- Japanese typography optimization\n- Touch-friendly interactions (minimum 44px tap targets)\n- Clear visual hierarchy for task prioritization\n\n## Color Palette\n\n**Light Mode:**\n- Primary Pink: 330 65% 55% (main actions, headers)\n- Pink Subtle: 330 40% 95% (backgrounds, cards)\n- Pink Accent: 340 75% 65% (alerts, notifications)\n- Text Primary: 0 0% 15%\n- Text Secondary: 0 0% 45%\n- Background: 0 0% 98%\n- Card/Surface: 0 0% 100%\n- Border: 330 20% 90%\n\n**Dark Mode:**\n- Primary Pink: 330 60% 70% (higher luminosity for dark bg)\n- Pink Subtle: 330 25% 15% (dark card backgrounds)\n- Pink Accent: 340 70% 75%\n- Text Primary: 0 0% 95%\n- Text Secondary: 0 0% 65%\n- Background: 0 0% 8%\n- Card/Surface: 0 0% 12%\n- Border: 330 15% 25%\n\n**Semantic Colors:**\n- Success: 145 60% 50%\n- Warning: 35 90% 60%\n- Error: 0 70% 55%\n\n## Typography\n\n**Font Families:**\n- Primary: 'Noto Sans JP', sans-serif (Google Fonts)\n- Monospace: 'JetBrains Mono', monospace (for date/time)\n\n**Scale:**\n- Heading 1: text-2xl font-bold (24px) - Screen titles\n- Heading 2: text-xl font-semibold (20px) - Section headers\n- Body Large: text-base font-medium (16px) - Task titles\n- Body: text-sm (14px) - Task details, descriptions\n- Caption: text-xs (12px) - Metadata, timestamps\n- Japanese line-height: leading-relaxed (1.625) for readability\n\n## Layout System\n\n**Spacing Units (Tailwind):**\nPrimary set: 2, 3, 4, 6, 8, 12 units\n- Micro spacing: p-2, gap-2 (8px) - tight layouts\n- Standard spacing: p-4, m-4 (16px) - general padding\n- Section spacing: py-6, py-8 (24-32px) - screen sections\n- Large spacing: py-12 (48px) - major divisions\n\n**Container:**\n- Mobile: px-4 (16px side padding)\n- Max width: max-w-2xl for tablet landscape\n- Safe areas: pb-safe for iOS notch/home indicator\n\n## Component Library\n\n**Navigation:**\n- Bottom Navigation Bar: Fixed, 64px height, 4-5 items max\n- Tab icons with Japanese labels below\n- Active state: primary pink with subtle background\n- Icons: Material Icons or Heroicons (24px)\n\n**Calendar Screen:**\n- Monthly Calendar Grid: 7-column grid, compact spacing\n- Date cells: 40px height, circular selection\n- Task indicators: Small colored dots below dates\n- Current date: outlined in primary pink\n- Task count badge: Small pill showing number\n- Deadline alerts: Red dot indicator for overdue\n- Swipe gestures: Month navigation\n\n**Settings Screen:**\n- List-based layout with sections\n- Toggle switches: Primary pink when active\n- Section headers: uppercase text-xs, text-secondary\n- Setting items: 56px height touch targets\n- Dividers: subtle border-b between items\n- Theme preview cards: Small visual samples\n- Dark mode toggle: Prominent top position\n\n**Task Components:**\n- Task Cards: Rounded-lg, p-4, shadow-sm\n- Checkbox: Custom rounded checkbox (20px)\n- Priority flags: Colored left border (4px)\n- Due date chips: Rounded-full, text-xs badges\n- Swipe actions: Delete (red), Complete (green)\n- Category tags: Small rounded pills\n\n**Forms/Inputs:**\n- Input fields: Rounded-lg, p-3, border on focus\n- Dark mode inputs: Subtle backgrounds, light borders\n- Date picker: Native mobile picker integration\n- Multi-select: Chip-based selection\n\n**Buttons:**\n- Primary: Rounded-full, py-3, px-6, primary pink bg\n- Secondary: Rounded-full, outline with pink border\n- FAB: 56px circular, bottom-right fixed\n- Icon buttons: 44x44px minimum tap area\n\n**Modals/Overlays:**\n- Bottom sheets: Rounded-t-2xl, slide up animation\n- Backdrop: Dark overlay (40% opacity)\n- Pull handle: Centered gray bar indicator\n\n## Animations\n\n**Minimal Motion:**\n- Screen transitions: Slide (300ms ease-out)\n- Task completion: Checkbox scale + fade out (200ms)\n- List reordering: Smooth position transitions\n- Bottom sheet: Spring animation (400ms)\n- No decorative or distracting animations\n\n## Images\n\n**Hero/Illustration Usage:**\nNo traditional hero image for utility app. Instead:\n- Empty state illustrations: Simple line art in pink tones for no tasks\n- Onboarding screens: Minimal illustrations showing features\n- Settings theme preview: Small thumbnail images\n- All illustrations: SVG-based, simple 2-color max\n\n**Icon Library:**\nHeroicons (outline for inactive, solid for active states)\n\n## Mobile-Specific Features\n\n- Pull-to-refresh: Standard mobile pattern\n- Haptic feedback: Checkbox completion, deletions\n- Bottom sheet modals: Native mobile feel\n- Gesture navigation: Swipe back, swipe actions\n- Safe area handling: iOS notch considerations\n- Sticky headers: Scroll-aware positioning\n\n**Accessibility:**\n- Minimum 4.5:1 contrast ratios\n- Touch targets: 44x44px minimum\n- Focus indicators: 2px pink outline\n- Screen reader labels: aria-label in Japanese\n- Dark mode: Consistent across all screens including inputs","path":null,"size_bytes":5184,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/App.tsx":{"content":"import TaskManager from '@/components/TaskManager';\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { Toaster } from \"@/components/ui/toaster\";\n\nfunction App() {\n  return (\n    <TooltipProvider>\n      <Toaster />\n      <TaskManager />\n    </TooltipProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":304,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        'theme-50': 'var(--theme-50)',\n        'theme-100': 'var(--theme-100)',\n        'theme-200': 'var(--theme-200)',\n        'theme-400': 'var(--theme-400)',\n        'theme-500': 'var(--theme-500)',\n        'theme-600': 'var(--theme-600)',\n        'theme-900': 'var(--theme-900)',\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":3051,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/index.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --theme-50: hsl(325, 77%, 96%);\n  --theme-100: hsl(326, 78%, 95%);\n  --theme-200: hsl(326, 85%, 90%);\n  --theme-400: hsl(330, 81%, 60%);\n  --theme-500: hsl(330, 81%, 56%);\n  --theme-600: hsl(334, 82%, 50%);\n  --theme-900: hsl(337, 67%, 25%);\n  \n  --background: hsl(0, 0%, 100%);\n  --foreground: hsl(337, 67%, 25%);\n  --card: hsl(0, 0%, 100%);\n  --card-foreground: hsl(337, 67%, 25%);\n  --popover: hsl(0, 0%, 100%);\n  --popover-foreground: hsl(337, 67%, 25%);\n  --primary: hsl(330, 81%, 56%);\n  --primary-foreground: hsl(0, 0%, 100%);\n  --secondary: hsl(210, 25%, 7.8431%);\n  --secondary-foreground: hsl(0, 0%, 100%);\n  --muted: hsl(240, 1.9608%, 90%);\n  --muted-foreground: hsl(210, 25%, 7.8431%);\n  --accent: hsl(326, 85%, 90%);\n  --accent-foreground: hsl(330, 81%, 56%);\n  --destructive: hsl(356.3033, 90.5579%, 54.3137%);\n  --destructive-foreground: hsl(0, 0%, 100%);\n  --border: hsl(326, 85%, 90%);\n  --input: hsl(325, 77%, 96%);\n  --ring: hsl(330, 81%, 56%);\n  --chart-1: hsl(330, 81%, 56%);\n  --chart-2: hsl(159.7826, 100%, 36.0784%);\n  --chart-3: hsl(42.0290, 92.8251%, 56.2745%);\n  --chart-4: hsl(147.1429, 78.5047%, 41.9608%);\n  --chart-5: hsl(341.4894, 75.2000%, 50.9804%);\n  --sidebar: hsl(0, 0%, 100%);\n  --sidebar-foreground: hsl(337, 67%, 25%);\n  --sidebar-primary: hsl(330, 81%, 56%);\n  --sidebar-primary-foreground: hsl(0, 0%, 100%);\n  --sidebar-accent: hsl(326, 85%, 90%);\n  --sidebar-accent-foreground: hsl(330, 81%, 56%);\n  --sidebar-border: hsl(326, 85%, 90%);\n  --sidebar-ring: hsl(330, 81%, 56%);\n  --font-sans: 'Noto Sans JP', 'Inter', sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: 0.5rem;\n}\n\n.dark {\n  --background: hsl(0, 0%, 0%);\n  --foreground: hsl(0, 0%, 95%);\n  --card: hsl(0, 0%, 3.9%);\n  --card-foreground: hsl(0, 0%, 95%);\n  --popover: hsl(0, 0%, 3.9%);\n  --popover-foreground: hsl(0, 0%, 95%);\n  --primary: hsl(330, 81%, 56%);\n  --primary-foreground: hsl(0, 0%, 100%);\n  --secondary: hsl(0, 0%, 14.9%);\n  --secondary-foreground: hsl(0, 0%, 98%);\n  --muted: hsl(0, 0%, 14.9%);\n  --muted-foreground: hsl(0, 0%, 63.9%);\n  --accent: hsl(0, 0%, 14.9%);\n  --accent-foreground: hsl(0, 0%, 98%);\n  --destructive: hsl(0, 84.2%, 60.2%);\n  --destructive-foreground: hsl(0, 0%, 98%);\n  --border: hsl(0, 0%, 14.9%);\n  --input: hsl(0, 0%, 14.9%);\n  --ring: hsl(330, 81%, 56%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    font-family: 'Noto Sans JP', 'Inter', sans-serif;\n    -webkit-tap-highlight-color: transparent;\n  }\n}\n\n@layer utilities {\n  ::-webkit-scrollbar { \n    width: 6px; \n  }\n  ::-webkit-scrollbar-track { \n    background: var(--theme-50); \n  }\n  ::-webkit-scrollbar-thumb { \n    background: var(--theme-400); \n    border-radius: 3px; \n  }\n  ::-webkit-scrollbar-thumb:hover { \n    background: var(--theme-500); \n  }\n\n  .nav-active svg, .nav-active span { \n    color: var(--theme-500); \n  }\n\n  .pomodoro-btn.active { \n    background-color: var(--theme-500); \n    color: white; \n  }\n\n  .form-input {\n    @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--theme-500)] focus:border-[var(--theme-500)];\n  }\n\n  .btn-primary {\n    @apply px-4 py-2 bg-[var(--theme-500)] text-white rounded-lg hover:bg-[var(--theme-600)] transition-colors;\n  }\n\n  .btn-secondary {\n    @apply px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors;\n  }\n\n  .record-card {\n    @apply bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-md transition-shadow;\n  }\n\n  .nav-btn {\n    @apply text-gray-500 hover:text-[var(--theme-500)] transition-colors;\n  }\n\n  .pomodoro-btn {\n    @apply bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors;\n  }\n\n  .task-item {\n    @apply bg-white p-3 rounded-lg shadow-sm flex items-center space-x-3;\n  }\n\n  .task-card {\n    @apply bg-white p-4 rounded-lg shadow-sm border-l-4 border-[var(--theme-400)];\n  }\n\n  .page {\n    @apply min-h-screen;\n  }\n}\n","path":null,"size_bytes":4202,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":23567,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":2263,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":1901,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3848,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"replit.md":{"content":"# Overview\n\nThis is a Japanese task management mobile web application built as a React TypeScript single-page application with PWA support. It provides comprehensive life management features including todo lists, scheduling, Pomodoro timer, weight tracking, meal logging, diary entries, weekly tracker, calendar view, and user settings. The app is frontend-only, storing all data in browser localStorage, and utilizes a mobile-first design with Tailwind CSS and shadcn/ui components, targeting Japanese users with a customizable theme (default: pink).\n\n# User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n# System Architecture\n\n## Frontend Architecture\n\nThe client uses a modern React setup with TypeScript and Vite. It is a frontend-only application with:\n\n-   **State Management**: localStorage-based data persistence with custom hooks mimicking React Query.\n-   **Routing**: Single-page application with screen-based navigation.\n-   **UI Framework**: shadcn/ui components built on Radix UI primitives with Tailwind CSS.\n-   **Form Handling**: React Hook Form with Zod validation.\n-   **Theme System**: CSS custom properties with a pink-based color scheme optimized for mobile.\n-   **PWA Support**: Implemented with `manifest.json` and a Service Worker for offline capabilities.\n\n## Data Storage\n\nThe application uses browser localStorage for all data persistence:\n\n-   **Local Type Definitions**: Types defined in `client/src/types/local.ts`.\n-   **LocalDataStore Module**: Provides CRUD operations for all data types (todos, schedules, weight records, meal records, diary entries, links, user settings).\n-   **MonthlyGoalDataStore**: Specialized store class for monthly goals with automatic legacy data migration.\n-   **Storage Keys**: Each data type stored under a unique localStorage key.\n-   **Data Format**: All data stored as JSON arrays with auto-generated IDs.\n-   **Data Migration**: Monthly goals are automatically migrated from legacy scalar format to array format.\n-   **Custom Hooks**: `useLocalData` hooks provide a React Query-like interface for local data access.\n\n## System Design Choices\n\n-   **Mobile-First Design**: Optimized for mobile devices.\n-   **Feature Set**: Includes todo lists, scheduling, Pomodoro timer, weight tracking, meal logging, diary entries, weekly tracker, calendar, and user settings (dark mode, custom themes, push notifications).\n-   **Goal Management**: Comprehensive weekly and monthly goal systems with progress tracking and interactive completion checkboxes.\n-   **Data Export**: Functionality to export user data.\n\n# External Dependencies\n\n-   **UI Components**: Radix UI primitives\n-   **Styling**: Tailwind CSS\n-   **Fonts**: Google Fonts (Inter, Noto Sans JP)\n-   **Charts**: Chart.js (for data visualization)\n-   **Build Tools**: Vite\n-   **Validation**: Zod\n-   **Storage**: Browser localStorage API","path":null,"size_bytes":2883,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","path":null,"size_bytes":224,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","path":null,"size_bytes":889,"size_tokens":null},"server/storage.ts":{"content":"export {};\n","path":null,"size_bytes":11,"size_tokens":null},"client/src/lib/localDataStore.ts":{"content":"import type {\n  Todo,\n  Schedule,\n  WeightRecord,\n  MealRecord,\n  DiaryEntry,\n  DailyRoutine,\n  MonthlyGoal,\n  WeeklyGoal,\n  UserSettings,\n  Link,\n  InsertTodo,\n  InsertSchedule,\n  InsertWeightRecord,\n  InsertMealRecord,\n  InsertDiaryEntry,\n  InsertDailyRoutine,\n  InsertMonthlyGoal,\n  InsertWeeklyGoal,\n  InsertLink,\n} from '../types/local';\n\n// Helper function to revive Date objects from JSON\n// Supports multiple ISO-8601 formats:\n// - YYYY-MM-DDTHH:mm:ss.fffZ (with milliseconds)\n// - YYYY-MM-DDTHH:mm:ssZ (without milliseconds)\n// - YYYY-MM-DDTHH:mm:ss.fff±HH:mm (with timezone offset)\n// - YYYY-MM-DDTHH:mm:ss±HH:mm (timezone offset, no milliseconds)\nconst reviveDates = (key: string, value: any): any => {\n  if (typeof value === 'string') {\n    // Check if the string looks like an ISO-8601 date\n    const iso8601Regex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d{1,3})?(Z|[+-]\\d{2}:\\d{2})?$/;\n    if (iso8601Regex.test(value)) {\n      const date = new Date(value);\n      // Verify it's a valid date\n      if (!isNaN(date.getTime())) {\n        return date;\n      }\n    }\n  }\n  return value;\n};\n\n// Helper to generate UUID\nconst generateId = (): string => {\n  return crypto.randomUUID();\n};\n\n// Base class for local storage management\nclass LocalDataStore<T extends { id: string }> {\n  private key: string;\n\n  constructor(key: string) {\n    this.key = key;\n  }\n\n  getAll(): T[] {\n    try {\n      const item = window.localStorage.getItem(this.key);\n      return item ? JSON.parse(item, reviveDates) : [];\n    } catch (error) {\n      console.error(`Error reading localStorage key \"${this.key}\":`, error);\n      return [];\n    }\n  }\n\n  getById(id: string): T | undefined {\n    const items = this.getAll();\n    return items.find(item => item.id === id);\n  }\n\n  create(data: Omit<T, 'id'>): T {\n    const items = this.getAll();\n    const newItem = { ...data, id: generateId() } as T;\n    items.push(newItem);\n    this.saveAll(items);\n    return newItem;\n  }\n\n  update(id: string, data: Partial<T>): T | undefined {\n    const items = this.getAll();\n    const index = items.findIndex(item => item.id === id);\n    if (index === -1) return undefined;\n    \n    items[index] = { ...items[index], ...data };\n    this.saveAll(items);\n    return items[index];\n  }\n\n  delete(id: string): boolean {\n    const items = this.getAll();\n    const filteredItems = items.filter(item => item.id !== id);\n    if (filteredItems.length === items.length) return false;\n    \n    this.saveAll(filteredItems);\n    return true;\n  }\n\n  private saveAll(items: T[]): void {\n    try {\n      window.localStorage.setItem(this.key, JSON.stringify(items));\n    } catch (error) {\n      console.error(`Error setting localStorage key \"${this.key}\":`, error);\n    }\n  }\n}\n\n// Specialized store for monthly goals with legacy data migration\nclass MonthlyGoalDataStore extends LocalDataStore<MonthlyGoal> {\n  constructor(key: string) {\n    super(key);\n  }\n\n  // Override getAll to migrate legacy scalar fields to arrays\n  getAll(): MonthlyGoal[] {\n    const items = super.getAll();\n    let needsMigration = false;\n\n    const migratedItems = items.map((item: any) => {\n      const migrated: MonthlyGoal = { ...item };\n      \n      // Migrate weightGoal (scalar) to weightGoals (array)\n      if (item.weightGoal && !item.weightGoals) {\n        migrated.weightGoals = [item.weightGoal];\n        migrated.weightGoalsCompleted = item.weightGoalCompleted ? [item.weightGoalCompleted] : [false];\n        delete (migrated as any).weightGoal;\n        delete (migrated as any).weightGoalCompleted;\n        needsMigration = true;\n      }\n      \n      // Migrate todoGoal (scalar) to todoGoals (array)\n      if (item.todoGoal && !item.todoGoals) {\n        migrated.todoGoals = [item.todoGoal];\n        migrated.todoGoalsCompleted = item.todoGoalCompleted ? [item.todoGoalCompleted] : [false];\n        delete (migrated as any).todoGoal;\n        delete (migrated as any).todoGoalCompleted;\n        needsMigration = true;\n      }\n      \n      // Migrate achievementGoal (scalar) to achievementGoals (array)\n      if (item.achievementGoal && !item.achievementGoals) {\n        migrated.achievementGoals = [item.achievementGoal];\n        migrated.achievementGoalsCompleted = item.achievementGoalCompleted ? [item.achievementGoalCompleted] : [false];\n        delete (migrated as any).achievementGoal;\n        delete (migrated as any).achievementGoalCompleted;\n        needsMigration = true;\n      }\n      \n      // Migrate activityGoal (scalar) to activityGoals (array)\n      if (item.activityGoal && !item.activityGoals) {\n        migrated.activityGoals = [item.activityGoal];\n        migrated.activityGoalsCompleted = item.activityGoalCompleted ? [item.activityGoalCompleted] : [false];\n        delete (migrated as any).activityGoal;\n        delete (migrated as any).activityGoalCompleted;\n        needsMigration = true;\n      }\n      \n      return migrated;\n    });\n\n    // If any items were migrated, save the updated data\n    if (needsMigration) {\n      try {\n        window.localStorage.setItem('monthlyGoals', JSON.stringify(migratedItems));\n        console.log('Monthly goals migrated from scalar to array format');\n      } catch (error) {\n        console.error('Error saving migrated monthly goals:', error);\n      }\n    }\n\n    return migratedItems;\n  }\n}\n\n// Specialized store for weekly goals with legacy data migration\nclass WeeklyGoalDataStore extends LocalDataStore<WeeklyGoal> {\n  constructor(key: string) {\n    super(key);\n  }\n\n  // Override getAll to migrate legacy scalar fields to arrays\n  getAll(): WeeklyGoal[] {\n    const items = super.getAll();\n    let needsMigration = false;\n\n    const migratedItems = items.map((item: any) => {\n      const migrated: WeeklyGoal = { ...item };\n      \n      // Migrate weightGoal (scalar) to weightGoals (array)\n      if (item.weightGoal && !item.weightGoals) {\n        migrated.weightGoals = [item.weightGoal];\n        migrated.weightGoalsCompleted = item.weightGoalCompleted ? [item.weightGoalCompleted] : [false];\n        delete (migrated as any).weightGoal;\n        delete (migrated as any).weightGoalCompleted;\n        needsMigration = true;\n      }\n      \n      // Migrate todoGoal (scalar) to todoGoals (array)\n      if (item.todoGoal && !item.todoGoals) {\n        migrated.todoGoals = [item.todoGoal];\n        migrated.todoGoalsCompleted = item.todoGoalCompleted ? [item.todoGoalCompleted] : [false];\n        delete (migrated as any).todoGoal;\n        delete (migrated as any).todoGoalCompleted;\n        needsMigration = true;\n      }\n      \n      // Migrate achievementGoal (scalar) to achievementGoals (array)\n      if (item.achievementGoal && !item.achievementGoals) {\n        migrated.achievementGoals = [item.achievementGoal];\n        migrated.achievementGoalsCompleted = item.achievementGoalCompleted ? [item.achievementGoalCompleted] : [false];\n        delete (migrated as any).achievementGoal;\n        delete (migrated as any).achievementGoalCompleted;\n        needsMigration = true;\n      }\n      \n      // Migrate activityGoal (scalar) to activityGoals (array)\n      if (item.activityGoal && !item.activityGoals) {\n        migrated.activityGoals = [item.activityGoal];\n        migrated.activityGoalsCompleted = item.activityGoalCompleted ? [item.activityGoalCompleted] : [false];\n        delete (migrated as any).activityGoal;\n        delete (migrated as any).activityGoalCompleted;\n        needsMigration = true;\n      }\n      \n      return migrated;\n    });\n\n    // If any items were migrated, save the updated data\n    if (needsMigration) {\n      try {\n        window.localStorage.setItem('weeklyGoals', JSON.stringify(migratedItems));\n        console.log('Weekly goals migrated from scalar to array format');\n      } catch (error) {\n        console.error('Error saving migrated weekly goals:', error);\n      }\n    }\n\n    return migratedItems;\n  }\n}\n\n// Specialized store for user settings (single object, not array)\nclass UserSettingsStore {\n  private key = 'userSettings';\n  private defaultSettings: UserSettings = {\n    darkMode: false,\n    themeColor: 'pink',\n    pushNotifications: false,\n  };\n\n  get(): UserSettings {\n    try {\n      const item = window.localStorage.getItem(this.key);\n      return item ? JSON.parse(item) : this.defaultSettings;\n    } catch (error) {\n      console.error(`Error reading localStorage key \"${this.key}\":`, error);\n      return this.defaultSettings;\n    }\n  }\n\n  update(data: Partial<UserSettings>): UserSettings {\n    const current = this.get();\n    const updated = { ...current, ...data };\n    try {\n      window.localStorage.setItem(this.key, JSON.stringify(updated));\n      return updated;\n    } catch (error) {\n      console.error(`Error setting localStorage key \"${this.key}\":`, error);\n      return current;\n    }\n  }\n}\n\n// Export store instances\nexport const todoStore = new LocalDataStore<Todo>('todos');\nexport const scheduleStore = new LocalDataStore<Schedule>('schedules');\nexport const weightRecordStore = new LocalDataStore<WeightRecord>('weightRecords');\nexport const mealRecordStore = new LocalDataStore<MealRecord>('mealRecords');\nexport const diaryEntryStore = new LocalDataStore<DiaryEntry>('diaryEntries');\nexport const dailyRoutineStore = new LocalDataStore<DailyRoutine>('dailyRoutines');\nexport const monthlyGoalStore = new MonthlyGoalDataStore('monthlyGoals');\nexport const weeklyGoalStore = new WeeklyGoalDataStore('weeklyGoals');\nexport const linkStore = new LocalDataStore<Link>('links');\nexport const userSettingsStore = new UserSettingsStore();\n\n// Export types for convenience\nexport type {\n  Todo,\n  Schedule,\n  WeightRecord,\n  MealRecord,\n  DiaryEntry,\n  DailyRoutine,\n  MonthlyGoal,\n  WeeklyGoal,\n  UserSettings,\n  Link,\n  InsertTodo,\n  InsertSchedule,\n  InsertWeightRecord,\n  InsertMealRecord,\n  InsertDiaryEntry,\n  InsertDailyRoutine,\n  InsertMonthlyGoal,\n  InsertWeeklyGoal,\n  InsertLink,\n};\n","path":null,"size_bytes":9886,"size_tokens":null},"client/src/types/local.ts":{"content":"// Local storage types (without userId and database-specific fields)\n\nexport interface Todo {\n  id: string;\n  text: string;\n  completed: boolean;\n  createdAt: Date;\n  repeatType?: \"none\" | \"daily\" | \"weekly\" | \"monthly\" | null;\n  repeatDays?: number[] | null;\n  repeatDate?: number | null;\n  location?: string | null;\n  locationLat?: string | null;\n  locationLng?: string | null;\n  locationRadius?: number | null;\n}\n\nexport interface Schedule {\n  id: string;\n  text: string;\n  date: string;\n  time?: Date | null;\n  completed: boolean;\n}\n\nexport interface WeightRecord {\n  id: string;\n  date: string;\n  weight: number;\n  height?: number | null;\n  bodyFat?: number | null;\n}\n\nexport interface MealRecord {\n  id: string;\n  date: string;\n  meal: \"breakfast\" | \"lunch\" | \"dinner\";\n  food: string;\n  calories: number;\n}\n\nexport interface DiaryEntry {\n  id: string;\n  date: string;\n  content: string;\n  mood?: string | null;\n  photos?: string[] | null;\n}\n\nexport interface DailyRoutine {\n  id: string;\n  date: string;\n  content: string;\n}\n\nexport interface MonthlyGoal {\n  id: string;\n  month: string;\n  weightGoals?: string[];      // 体重目標リスト\n  todoGoals?: string[];         // やるべきことリスト\n  achievementGoals?: string[];  // 達成したい目標リスト\n  activityGoals?: string[];     // 部活動や仕事などでの目標リスト\n  weightGoalsCompleted?: boolean[];      // 体重目標達成状態リスト\n  todoGoalsCompleted?: boolean[];         // やるべきこと達成状態リスト\n  achievementGoalsCompleted?: boolean[];  // 達成したい目標達成状態リスト\n  activityGoalsCompleted?: boolean[];     // 部活動や仕事などでの目標達成状態リスト\n  createdAt: Date;\n}\n\nexport interface WeeklyGoal {\n  id: string;\n  week: string;  // YYYY-WW format (e.g., \"2025-47\")\n  weightGoals?: string[];      // 体重目標リスト\n  todoGoals?: string[];         // やるべきことリスト\n  achievementGoals?: string[];  // 達成したい目標リスト\n  activityGoals?: string[];     // 部活動や仕事などでの目標リスト\n  weightGoalsCompleted?: boolean[];      // 体重目標達成状態リスト\n  todoGoalsCompleted?: boolean[];         // やるべきこと達成状態リスト\n  achievementGoalsCompleted?: boolean[];  // 達成したい目標達成状態リスト\n  activityGoalsCompleted?: boolean[];     // 部活動や仕事などでの目標達成状態リスト\n  createdAt: Date;\n}\n\nexport interface UserSettings {\n  darkMode: boolean;\n  themeColor: string;\n  pushNotifications: boolean;\n}\n\nexport interface Link {\n  id: string;\n  title: string;\n  url: string;\n  category?: string | null;\n  createdAt: Date;\n}\n\n// Insert types (omit id and auto-generated fields)\nexport type InsertTodo = Omit<Todo, 'id' | 'createdAt'> & { createdAt?: Date };\nexport type InsertSchedule = Omit<Schedule, 'id'>;\nexport type InsertWeightRecord = Omit<WeightRecord, 'id'>;\nexport type InsertMealRecord = Omit<MealRecord, 'id'>;\nexport type InsertDiaryEntry = Omit<DiaryEntry, 'id'>;\nexport type InsertDailyRoutine = Omit<DailyRoutine, 'id'>;\nexport type InsertMonthlyGoal = Omit<MonthlyGoal, 'id' | 'createdAt'> & { createdAt?: Date };\nexport type InsertWeeklyGoal = Omit<WeeklyGoal, 'id' | 'createdAt'> & { createdAt?: Date };\nexport type InsertLink = Omit<Link, 'id' | 'createdAt'> & { createdAt?: Date };\n\nexport interface PomodoroState {\n  minutes: number;\n  seconds: number;\n  isRunning: boolean;\n  mode: 'pomodoro' | 'shortBreak' | 'longBreak';\n  interval?: NodeJS.Timeout;\n}\n\nexport interface AppState {\n  currentScreen: string;\n  todoVisible: boolean;\n  pomodoro: PomodoroState;\n  todos: Todo[];\n  schedules: Schedule[];\n  weightRecords: WeightRecord[];\n  mealRecords: MealRecord[];\n  diaryEntries: DiaryEntry[];\n}\n","path":null,"size_bytes":3796,"size_tokens":null},"client/src/hooks/useLocalData.ts":{"content":"import { useState, useEffect, useCallback } from 'react';\n\n// Custom hook to work with local storage data\n// Provides a React Query-like API but uses local storage\nexport function useLocalData<T>(\n  store: {\n    getAll: () => T[];\n    create: (data: any) => T;\n    update: (id: string, data: any) => T | undefined;\n    delete: (id: string) => boolean;\n  },\n  key: string\n) {\n  const [data, setData] = useState<T[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Load data from store\n  const loadData = useCallback(() => {\n    setIsLoading(true);\n    const items = store.getAll();\n    setData(items);\n    setIsLoading(false);\n  }, [store]);\n\n  // Load data on mount\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  // Listen for storage events from other tabs\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === key) {\n        loadData();\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, [key, loadData]);\n\n  return { data, isLoading, refetch: loadData };\n}\n\n// Hook for user settings (single object, not array)\nexport function useLocalSettings(\n  store: {\n    get: () => any;\n    update: (data: any) => any;\n  }\n) {\n  const [data, setData] = useState<any>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const loadData = useCallback(() => {\n    setIsLoading(true);\n    const settings = store.get();\n    setData(settings);\n    setIsLoading(false);\n  }, [store]);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === 'userSettings') {\n        loadData();\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, [loadData]);\n\n  return { data, isLoading, refetch: loadData };\n}\n","path":null,"size_bytes":1966,"size_tokens":null},"client/public/sw.js":{"content":"const CACHE_NAME = 'task-manager-v1';\nconst STATIC_ASSETS = [\n  '/',\n  '/index.html',\n  '/manifest.json'\n];\n\nself.addEventListener('install', (event) => {\n  event.waitUntil(\n    caches.open(CACHE_NAME).then((cache) => {\n      return cache.addAll(STATIC_ASSETS);\n    })\n  );\n  self.skipWaiting();\n});\n\nself.addEventListener('activate', (event) => {\n  event.waitUntil(\n    caches.keys().then((cacheNames) => {\n      return Promise.all(\n        cacheNames\n          .filter((name) => name !== CACHE_NAME)\n          .map((name) => caches.delete(name))\n      );\n    })\n  );\n  self.clients.claim();\n});\n\nself.addEventListener('fetch', (event) => {\n  if (event.request.method !== 'GET') return;\n  \n  event.respondWith(\n    fetch(event.request)\n      .then((response) => {\n        if (response.status === 200) {\n          const responseClone = response.clone();\n          caches.open(CACHE_NAME).then((cache) => {\n            cache.put(event.request, responseClone);\n          });\n        }\n        return response;\n      })\n      .catch(() => {\n        return caches.match(event.request);\n      })\n  );\n});\n","path":null,"size_bytes":1100,"size_tokens":null}},"version":2}